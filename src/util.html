<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>ExpoCloud.src.util API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>ExpoCloud.src.util</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">try:
    from googleapiclient import discovery
    from oauth2client.client import GoogleCredentials
except:
    pass

import os
from sre_parse import Verbose
import subprocess
import sys
import time
import socket
import queue
from pathlib import Path
import traceback
from typing import Tuple

from src.constants import Constants, Verbosity
from multiprocessing import Queue
from multiprocessing.managers import SyncManager

def short_timestamp(timestamp):
    return f&#34;{timestamp % 10000 : .3f}&#34;
    
def short_now_str():
    return short_timestamp(time.time())

def myprint(cond, str, err_flag = False):
    file = sys.stderr if err_flag else sys.stdout
    if cond: 
        print(f&#34;{short_now_str()}   {str}&#34;, file=file, flush=True)

def myeprint(cond, str):
    myprint(cond, str, True)

def command_arg_ip():
    try:
        return sys.argv[1]
    except Exception as e:
        handle_exception(e, f&#34;Wrong command-line arguments&#34;)

def command_arg_port():
    try:
        return int(sys.argv[2])
    except Exception as e:
        handle_exception(e, f&#34;Wrong command-line arguments&#34;)

def command_arg_name():
    try:
        return sys.argv[3]
    except Exception as e:
        handle_exception(e, f&#34;Wrong command-line arguments&#34;)

def command_arg_max_cpus():
    try:
        if sys.argv[4] == &#34;None&#34;: return sys.maxsize
        return int(sys.argv[4])
    except Exception as e:
        handle_exception(e, f&#34;Wrong command-line arguments&#34;)

class InstanceRole:
    PRIMARY_SERVER = &#39;PRIMARY_SERVER&#39;
    BACKUP_SERVER = &#39;BACKUP_SERVER&#39;
    CLIENT = &#39;CLIENT&#39;

class MessageType:
    HEALTH_UPDATE = &#39;HEALTH_UPDATE&#39;
    
    # to server
    REQUEST_TASKS = &#39;REQUEST_TASKS&#39;
    STARTED = &#39;STARTED&#39;
    RESULT = &#39;RESULT&#39;
    REPORT_HARD_TASK = &#39;REPORT_HARD_TASK&#39;
    LOG = &#39;LOG&#39;
    EXCEPTION = &#39;EXCEPTION&#39;
    BYE = &#39;BYE&#39;

    # from primary to backup server
    NEW_CLIENT = &#39;NEW_CLIENT&#39;
    CLIENT_TERMINATED = &#39;CLIENT_TERMINATED&#39;
    MESSAGE_FROM_CLIENT = &#39;MESSAGE_FROM_CLIENT&#39;

    # to client
    GRANT_TASKS = &#39;GRANT_TASKS&#39;
    APPLY_DOMINO_EFFECT = &#39;APPLY_DOMINO_EFFECT&#39;
    NO_FURTHER_TASKS = &#39;NO_FURTHER_TASKS&#39;
    STOP = &#39;STOP&#39;
    RESUME = &#39;RESUME&#39;
    SWAP_QUEUES = &#39;SWAP_QUEUES&#39;

    # from worker
    WORKER_STARTED = &#39;STARTED&#39;
    WORKER_DONE = &#39;DONE&#39;

# Adapted from https://stackoverflow.com/a/1365284/2725810
def get_unused_port():
    with socket.socket() as s:
        s.bind((&#39;&#39;,0))
        return s.getsockname()[1]

def next_instance_name(role, prefix, instance_id):
    if role not in instance_id: instance_id[role] = 0
    instance_id[role] += 1
    id = instance_id[role]
    first_dash = &#39;-&#39; if prefix else &#39;&#39;
    if role == InstanceRole.CLIENT: 
        return f&#34;{prefix}{first_dash}client-{id}&#34;
    assert(role == InstanceRole.BACKUP_SERVER)
    return f&#34;{prefix}{first_dash}server-{id}&#34;

def get_guest_qs(ip, port, q_names):
    &#34;&#34;&#34;
    Get queues owned by another instance. The caller should handle the exceptions.
    &#34;&#34;&#34;
    class MyManager(SyncManager):
        pass
    
    for q_name in q_names: MyManager.register(q_name)

    auth = b&#39;myauth&#39;
    manager = MyManager(address=(ip, port), authkey=auth)
    manager.connect()
    return tuple(getattr(manager, q_name)() for q_name in q_names)

def make_manager(q_names, port):
    class MyManager(SyncManager):
        pass
    for q_name in q_names:
        q = queue.Queue()
        MyManager.register(q_name, callable=lambda q=q: q)

    auth = b&#39;myauth&#39;
    try:
        manager = MyManager(address=(&#39;&#39;, port), authkey=auth)
        manager.start()
    except Exception as e:
        handle_exception(e, &#39;Could not start manager&#39;)

    return manager

def handshake(my_role, my_port1, my_port2 = None):
    server_ip = command_arg_ip()
    server_port = command_arg_port()
    my_name = command_arg_name()

    try:
        handshake_q, = get_guest_qs(
            server_ip, server_port, [&#39;handshake_q&#39;])
        body = (my_role, my_name, my_port1)
        if my_port2: body += (my_port2,)
        handshake_q.put(body)
    except Exception as e:
        handle_exception(e, &#39;Handshake with the server failed&#39;)

def handle_exception(e: Exception, msg: str, exit_flag: bool = True,
                     to_primary_q = None):
    &#34;&#34;&#34;
    Print the custom error message and the exception and exit unless exit_flag==False.
    &#34;&#34;&#34;
    descr = str(time.time()) + &#34;   &#34; + msg
    e_str = traceback.format_exc()
    if e_str: descr += &#34;\n&#34; + e_str
    if to_primary_q:
        to_primary_q.put((MessageType.EXCEPTION, descr))
    else:
        myeprint(Verbosity.all, descr)
    if exit_flag: exit(1)

# Adapted from https://stackoverflow.com/a/53465812/2725810
def get_project_root() -&gt; Path:
    return Path(__file__).parent.parent

def my_name():
    return socket.gethostname()

def my_ip():
    return socket.gethostbyname(my_name())

def output_folder(instance_name = None):
    if not instance_name: instance_name = my_name()
    return f&#34;output-{instance_name}&#34;

def pickled_file_name(path):
    return os.path.join(path, &#39;pickled&#39;)

def ssh_command(ip, command):
    key = &#39;~/.ssh/id_rsa&#39;
    return f&#34;ssh {ip} -i {key} -o StrictHostKeyChecking=no \&#34;{command}\&#34; 2&gt;&gt;ssh_err&#34;

def scp_command(ip, source_folder, dest_folder):
    key = &#39;~/.ssh/id_rsa&#39;
    return f&#34;scp -i {key} -o StrictHostKeyChecking=no -r {source_folder} {ip}:{dest_folder} 2&gt;&gt; ssh_err&#34;

def attempt_command(command, n_attempts = 3):
    attempts_left = 3
    while attempts_left:
        try:
            status = subprocess.check_output(command, shell=True)
            return 0
        except Exception as e:
            attempts_left -= 1
            time.sleep(Constants.SSH_RETRY_DELAY)

    myprint(Verbosity.command_lines, f&#34;Failed to execute {command}&#34;)
    return None

def remote_execute(ip, command):
    return attempt_command(ssh_command(ip, command))

def remote_replace(ip, source_folder, dest_folder):
    remote_execute(ip, f&#34;rm -rf {dest_folder}&#34;)
    return attempt_command(scp_command(ip, source_folder, dest_folder))

def filter_indices(arr, cond):
    &#34;&#34;&#34;
    Filter elements of arr, so only indices satisfying the predicate `cond` remain.
    &#34;&#34;&#34;
    return [el[1]  for el in filter(lambda el: cond(el[0]), enumerate(arr))]

def list2str(assignment, sep = &#39;;&#39;):
    &#34;&#34;&#34;
    Convert list to str using `sep` as separator
    &#34;&#34;&#34;
    return sep.join([str(a) for a in assignment])

def set2str(s, sep = &#39;;&#39;):
    &#34;&#34;&#34;
    Convert set to string using `sep` as separator. The elements are sorted.
    &#34;&#34;&#34;
    return list2str(sorted(list(s)), sep)

def all_lt(t1, t2):
    &#34;&#34;&#34;
    Returns True if t1 and t2 are of same length and all elements of t1 are strictly smaller than the corresponding elements of t2.
    &#34;&#34;&#34;
    if not t1 or not t2 or len(t1) != len(t2): return False
    return sum([el1 &lt; el2 for el1, el2 in zip(t1, t2)])==len(t1)

def all_le(t1, t2):
    &#34;&#34;&#34;
    Returns True if t1 and t2 are of same length and all elements of t1 are smaller or equal to the corresponding elements of t2.
    &#34;&#34;&#34;
    return t1 == t2 or all_lt(t1, t2)

def filter_out(t1: Tuple, t2: Tuple):
    &#34;&#34;&#34;
    Returns the tuple of elements in t1 that are not in t2.
    &#34;&#34;&#34;
    return tuple(filter(lambda el: el not in t2, t1))

def tuple_to_csv(t):
    &#34;&#34;&#34;
    Return comma-separated values based on tuple.
    &#34;&#34;&#34;
    return &#34;,&#34;.join([str(el) for el in t])</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="ExpoCloud.src.util.all_le"><code class="name flex">
<span>def <span class="ident">all_le</span></span>(<span>t1, t2)</span>
</code></dt>
<dd>
<div class="desc"><p>Returns True if t1 and t2 are of same length and all elements of t1 are smaller or equal to the corresponding elements of t2.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def all_le(t1, t2):
    &#34;&#34;&#34;
    Returns True if t1 and t2 are of same length and all elements of t1 are smaller or equal to the corresponding elements of t2.
    &#34;&#34;&#34;
    return t1 == t2 or all_lt(t1, t2)</code></pre>
</details>
</dd>
<dt id="ExpoCloud.src.util.all_lt"><code class="name flex">
<span>def <span class="ident">all_lt</span></span>(<span>t1, t2)</span>
</code></dt>
<dd>
<div class="desc"><p>Returns True if t1 and t2 are of same length and all elements of t1 are strictly smaller than the corresponding elements of t2.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def all_lt(t1, t2):
    &#34;&#34;&#34;
    Returns True if t1 and t2 are of same length and all elements of t1 are strictly smaller than the corresponding elements of t2.
    &#34;&#34;&#34;
    if not t1 or not t2 or len(t1) != len(t2): return False
    return sum([el1 &lt; el2 for el1, el2 in zip(t1, t2)])==len(t1)</code></pre>
</details>
</dd>
<dt id="ExpoCloud.src.util.attempt_command"><code class="name flex">
<span>def <span class="ident">attempt_command</span></span>(<span>command, n_attempts=3)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def attempt_command(command, n_attempts = 3):
    attempts_left = 3
    while attempts_left:
        try:
            status = subprocess.check_output(command, shell=True)
            return 0
        except Exception as e:
            attempts_left -= 1
            time.sleep(Constants.SSH_RETRY_DELAY)

    myprint(Verbosity.command_lines, f&#34;Failed to execute {command}&#34;)
    return None</code></pre>
</details>
</dd>
<dt id="ExpoCloud.src.util.command_arg_ip"><code class="name flex">
<span>def <span class="ident">command_arg_ip</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def command_arg_ip():
    try:
        return sys.argv[1]
    except Exception as e:
        handle_exception(e, f&#34;Wrong command-line arguments&#34;)</code></pre>
</details>
</dd>
<dt id="ExpoCloud.src.util.command_arg_max_cpus"><code class="name flex">
<span>def <span class="ident">command_arg_max_cpus</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def command_arg_max_cpus():
    try:
        if sys.argv[4] == &#34;None&#34;: return sys.maxsize
        return int(sys.argv[4])
    except Exception as e:
        handle_exception(e, f&#34;Wrong command-line arguments&#34;)</code></pre>
</details>
</dd>
<dt id="ExpoCloud.src.util.command_arg_name"><code class="name flex">
<span>def <span class="ident">command_arg_name</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def command_arg_name():
    try:
        return sys.argv[3]
    except Exception as e:
        handle_exception(e, f&#34;Wrong command-line arguments&#34;)</code></pre>
</details>
</dd>
<dt id="ExpoCloud.src.util.command_arg_port"><code class="name flex">
<span>def <span class="ident">command_arg_port</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def command_arg_port():
    try:
        return int(sys.argv[2])
    except Exception as e:
        handle_exception(e, f&#34;Wrong command-line arguments&#34;)</code></pre>
</details>
</dd>
<dt id="ExpoCloud.src.util.filter_indices"><code class="name flex">
<span>def <span class="ident">filter_indices</span></span>(<span>arr, cond)</span>
</code></dt>
<dd>
<div class="desc"><p>Filter elements of arr, so only indices satisfying the predicate <code>cond</code> remain.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def filter_indices(arr, cond):
    &#34;&#34;&#34;
    Filter elements of arr, so only indices satisfying the predicate `cond` remain.
    &#34;&#34;&#34;
    return [el[1]  for el in filter(lambda el: cond(el[0]), enumerate(arr))]</code></pre>
</details>
</dd>
<dt id="ExpoCloud.src.util.filter_out"><code class="name flex">
<span>def <span class="ident">filter_out</span></span>(<span>t1: Tuple[], t2: Tuple[])</span>
</code></dt>
<dd>
<div class="desc"><p>Returns the tuple of elements in t1 that are not in t2.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def filter_out(t1: Tuple, t2: Tuple):
    &#34;&#34;&#34;
    Returns the tuple of elements in t1 that are not in t2.
    &#34;&#34;&#34;
    return tuple(filter(lambda el: el not in t2, t1))</code></pre>
</details>
</dd>
<dt id="ExpoCloud.src.util.get_guest_qs"><code class="name flex">
<span>def <span class="ident">get_guest_qs</span></span>(<span>ip, port, q_names)</span>
</code></dt>
<dd>
<div class="desc"><p>Get queues owned by another instance. The caller should handle the exceptions.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_guest_qs(ip, port, q_names):
    &#34;&#34;&#34;
    Get queues owned by another instance. The caller should handle the exceptions.
    &#34;&#34;&#34;
    class MyManager(SyncManager):
        pass
    
    for q_name in q_names: MyManager.register(q_name)

    auth = b&#39;myauth&#39;
    manager = MyManager(address=(ip, port), authkey=auth)
    manager.connect()
    return tuple(getattr(manager, q_name)() for q_name in q_names)</code></pre>
</details>
</dd>
<dt id="ExpoCloud.src.util.get_project_root"><code class="name flex">
<span>def <span class="ident">get_project_root</span></span>(<span>) ‑> pathlib.Path</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_project_root() -&gt; Path:
    return Path(__file__).parent.parent</code></pre>
</details>
</dd>
<dt id="ExpoCloud.src.util.get_unused_port"><code class="name flex">
<span>def <span class="ident">get_unused_port</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_unused_port():
    with socket.socket() as s:
        s.bind((&#39;&#39;,0))
        return s.getsockname()[1]</code></pre>
</details>
</dd>
<dt id="ExpoCloud.src.util.handle_exception"><code class="name flex">
<span>def <span class="ident">handle_exception</span></span>(<span>e: Exception, msg: str, exit_flag: bool = True, to_primary_q=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Print the custom error message and the exception and exit unless exit_flag==False.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def handle_exception(e: Exception, msg: str, exit_flag: bool = True,
                     to_primary_q = None):
    &#34;&#34;&#34;
    Print the custom error message and the exception and exit unless exit_flag==False.
    &#34;&#34;&#34;
    descr = str(time.time()) + &#34;   &#34; + msg
    e_str = traceback.format_exc()
    if e_str: descr += &#34;\n&#34; + e_str
    if to_primary_q:
        to_primary_q.put((MessageType.EXCEPTION, descr))
    else:
        myeprint(Verbosity.all, descr)
    if exit_flag: exit(1)</code></pre>
</details>
</dd>
<dt id="ExpoCloud.src.util.handshake"><code class="name flex">
<span>def <span class="ident">handshake</span></span>(<span>my_role, my_port1, my_port2=None)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def handshake(my_role, my_port1, my_port2 = None):
    server_ip = command_arg_ip()
    server_port = command_arg_port()
    my_name = command_arg_name()

    try:
        handshake_q, = get_guest_qs(
            server_ip, server_port, [&#39;handshake_q&#39;])
        body = (my_role, my_name, my_port1)
        if my_port2: body += (my_port2,)
        handshake_q.put(body)
    except Exception as e:
        handle_exception(e, &#39;Handshake with the server failed&#39;)</code></pre>
</details>
</dd>
<dt id="ExpoCloud.src.util.list2str"><code class="name flex">
<span>def <span class="ident">list2str</span></span>(<span>assignment, sep=';')</span>
</code></dt>
<dd>
<div class="desc"><p>Convert list to str using <code>sep</code> as separator</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def list2str(assignment, sep = &#39;;&#39;):
    &#34;&#34;&#34;
    Convert list to str using `sep` as separator
    &#34;&#34;&#34;
    return sep.join([str(a) for a in assignment])</code></pre>
</details>
</dd>
<dt id="ExpoCloud.src.util.make_manager"><code class="name flex">
<span>def <span class="ident">make_manager</span></span>(<span>q_names, port)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def make_manager(q_names, port):
    class MyManager(SyncManager):
        pass
    for q_name in q_names:
        q = queue.Queue()
        MyManager.register(q_name, callable=lambda q=q: q)

    auth = b&#39;myauth&#39;
    try:
        manager = MyManager(address=(&#39;&#39;, port), authkey=auth)
        manager.start()
    except Exception as e:
        handle_exception(e, &#39;Could not start manager&#39;)

    return manager</code></pre>
</details>
</dd>
<dt id="ExpoCloud.src.util.my_ip"><code class="name flex">
<span>def <span class="ident">my_ip</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def my_ip():
    return socket.gethostbyname(my_name())</code></pre>
</details>
</dd>
<dt id="ExpoCloud.src.util.my_name"><code class="name flex">
<span>def <span class="ident">my_name</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def my_name():
    return socket.gethostname()</code></pre>
</details>
</dd>
<dt id="ExpoCloud.src.util.myeprint"><code class="name flex">
<span>def <span class="ident">myeprint</span></span>(<span>cond, str)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def myeprint(cond, str):
    myprint(cond, str, True)</code></pre>
</details>
</dd>
<dt id="ExpoCloud.src.util.myprint"><code class="name flex">
<span>def <span class="ident">myprint</span></span>(<span>cond, str, err_flag=False)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def myprint(cond, str, err_flag = False):
    file = sys.stderr if err_flag else sys.stdout
    if cond: 
        print(f&#34;{short_now_str()}   {str}&#34;, file=file, flush=True)</code></pre>
</details>
</dd>
<dt id="ExpoCloud.src.util.next_instance_name"><code class="name flex">
<span>def <span class="ident">next_instance_name</span></span>(<span>role, prefix, instance_id)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def next_instance_name(role, prefix, instance_id):
    if role not in instance_id: instance_id[role] = 0
    instance_id[role] += 1
    id = instance_id[role]
    first_dash = &#39;-&#39; if prefix else &#39;&#39;
    if role == InstanceRole.CLIENT: 
        return f&#34;{prefix}{first_dash}client-{id}&#34;
    assert(role == InstanceRole.BACKUP_SERVER)
    return f&#34;{prefix}{first_dash}server-{id}&#34;</code></pre>
</details>
</dd>
<dt id="ExpoCloud.src.util.output_folder"><code class="name flex">
<span>def <span class="ident">output_folder</span></span>(<span>instance_name=None)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def output_folder(instance_name = None):
    if not instance_name: instance_name = my_name()
    return f&#34;output-{instance_name}&#34;</code></pre>
</details>
</dd>
<dt id="ExpoCloud.src.util.pickled_file_name"><code class="name flex">
<span>def <span class="ident">pickled_file_name</span></span>(<span>path)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def pickled_file_name(path):
    return os.path.join(path, &#39;pickled&#39;)</code></pre>
</details>
</dd>
<dt id="ExpoCloud.src.util.remote_execute"><code class="name flex">
<span>def <span class="ident">remote_execute</span></span>(<span>ip, command)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def remote_execute(ip, command):
    return attempt_command(ssh_command(ip, command))</code></pre>
</details>
</dd>
<dt id="ExpoCloud.src.util.remote_replace"><code class="name flex">
<span>def <span class="ident">remote_replace</span></span>(<span>ip, source_folder, dest_folder)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def remote_replace(ip, source_folder, dest_folder):
    remote_execute(ip, f&#34;rm -rf {dest_folder}&#34;)
    return attempt_command(scp_command(ip, source_folder, dest_folder))</code></pre>
</details>
</dd>
<dt id="ExpoCloud.src.util.scp_command"><code class="name flex">
<span>def <span class="ident">scp_command</span></span>(<span>ip, source_folder, dest_folder)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def scp_command(ip, source_folder, dest_folder):
    key = &#39;~/.ssh/id_rsa&#39;
    return f&#34;scp -i {key} -o StrictHostKeyChecking=no -r {source_folder} {ip}:{dest_folder} 2&gt;&gt; ssh_err&#34;</code></pre>
</details>
</dd>
<dt id="ExpoCloud.src.util.set2str"><code class="name flex">
<span>def <span class="ident">set2str</span></span>(<span>s, sep=';')</span>
</code></dt>
<dd>
<div class="desc"><p>Convert set to string using <code>sep</code> as separator. The elements are sorted.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set2str(s, sep = &#39;;&#39;):
    &#34;&#34;&#34;
    Convert set to string using `sep` as separator. The elements are sorted.
    &#34;&#34;&#34;
    return list2str(sorted(list(s)), sep)</code></pre>
</details>
</dd>
<dt id="ExpoCloud.src.util.short_now_str"><code class="name flex">
<span>def <span class="ident">short_now_str</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def short_now_str():
    return short_timestamp(time.time())</code></pre>
</details>
</dd>
<dt id="ExpoCloud.src.util.short_timestamp"><code class="name flex">
<span>def <span class="ident">short_timestamp</span></span>(<span>timestamp)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def short_timestamp(timestamp):
    return f&#34;{timestamp % 10000 : .3f}&#34;</code></pre>
</details>
</dd>
<dt id="ExpoCloud.src.util.ssh_command"><code class="name flex">
<span>def <span class="ident">ssh_command</span></span>(<span>ip, command)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def ssh_command(ip, command):
    key = &#39;~/.ssh/id_rsa&#39;
    return f&#34;ssh {ip} -i {key} -o StrictHostKeyChecking=no \&#34;{command}\&#34; 2&gt;&gt;ssh_err&#34;</code></pre>
</details>
</dd>
<dt id="ExpoCloud.src.util.tuple_to_csv"><code class="name flex">
<span>def <span class="ident">tuple_to_csv</span></span>(<span>t)</span>
</code></dt>
<dd>
<div class="desc"><p>Return comma-separated values based on tuple.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def tuple_to_csv(t):
    &#34;&#34;&#34;
    Return comma-separated values based on tuple.
    &#34;&#34;&#34;
    return &#34;,&#34;.join([str(el) for el in t])</code></pre>
</details>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="ExpoCloud.src.util.InstanceRole"><code class="flex name class">
<span>class <span class="ident">InstanceRole</span></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class InstanceRole:
    PRIMARY_SERVER = &#39;PRIMARY_SERVER&#39;
    BACKUP_SERVER = &#39;BACKUP_SERVER&#39;
    CLIENT = &#39;CLIENT&#39;</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="ExpoCloud.src.util.InstanceRole.BACKUP_SERVER"><code class="name">var <span class="ident">BACKUP_SERVER</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ExpoCloud.src.util.InstanceRole.CLIENT"><code class="name">var <span class="ident">CLIENT</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ExpoCloud.src.util.InstanceRole.PRIMARY_SERVER"><code class="name">var <span class="ident">PRIMARY_SERVER</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
<dt id="ExpoCloud.src.util.MessageType"><code class="flex name class">
<span>class <span class="ident">MessageType</span></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class MessageType:
    HEALTH_UPDATE = &#39;HEALTH_UPDATE&#39;
    
    # to server
    REQUEST_TASKS = &#39;REQUEST_TASKS&#39;
    STARTED = &#39;STARTED&#39;
    RESULT = &#39;RESULT&#39;
    REPORT_HARD_TASK = &#39;REPORT_HARD_TASK&#39;
    LOG = &#39;LOG&#39;
    EXCEPTION = &#39;EXCEPTION&#39;
    BYE = &#39;BYE&#39;

    # from primary to backup server
    NEW_CLIENT = &#39;NEW_CLIENT&#39;
    CLIENT_TERMINATED = &#39;CLIENT_TERMINATED&#39;
    MESSAGE_FROM_CLIENT = &#39;MESSAGE_FROM_CLIENT&#39;

    # to client
    GRANT_TASKS = &#39;GRANT_TASKS&#39;
    APPLY_DOMINO_EFFECT = &#39;APPLY_DOMINO_EFFECT&#39;
    NO_FURTHER_TASKS = &#39;NO_FURTHER_TASKS&#39;
    STOP = &#39;STOP&#39;
    RESUME = &#39;RESUME&#39;
    SWAP_QUEUES = &#39;SWAP_QUEUES&#39;

    # from worker
    WORKER_STARTED = &#39;STARTED&#39;
    WORKER_DONE = &#39;DONE&#39;</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="ExpoCloud.src.util.MessageType.APPLY_DOMINO_EFFECT"><code class="name">var <span class="ident">APPLY_DOMINO_EFFECT</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ExpoCloud.src.util.MessageType.BYE"><code class="name">var <span class="ident">BYE</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ExpoCloud.src.util.MessageType.CLIENT_TERMINATED"><code class="name">var <span class="ident">CLIENT_TERMINATED</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ExpoCloud.src.util.MessageType.EXCEPTION"><code class="name">var <span class="ident">EXCEPTION</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ExpoCloud.src.util.MessageType.GRANT_TASKS"><code class="name">var <span class="ident">GRANT_TASKS</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ExpoCloud.src.util.MessageType.HEALTH_UPDATE"><code class="name">var <span class="ident">HEALTH_UPDATE</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ExpoCloud.src.util.MessageType.LOG"><code class="name">var <span class="ident">LOG</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ExpoCloud.src.util.MessageType.MESSAGE_FROM_CLIENT"><code class="name">var <span class="ident">MESSAGE_FROM_CLIENT</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ExpoCloud.src.util.MessageType.NEW_CLIENT"><code class="name">var <span class="ident">NEW_CLIENT</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ExpoCloud.src.util.MessageType.NO_FURTHER_TASKS"><code class="name">var <span class="ident">NO_FURTHER_TASKS</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ExpoCloud.src.util.MessageType.REPORT_HARD_TASK"><code class="name">var <span class="ident">REPORT_HARD_TASK</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ExpoCloud.src.util.MessageType.REQUEST_TASKS"><code class="name">var <span class="ident">REQUEST_TASKS</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ExpoCloud.src.util.MessageType.RESULT"><code class="name">var <span class="ident">RESULT</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ExpoCloud.src.util.MessageType.RESUME"><code class="name">var <span class="ident">RESUME</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ExpoCloud.src.util.MessageType.STARTED"><code class="name">var <span class="ident">STARTED</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ExpoCloud.src.util.MessageType.STOP"><code class="name">var <span class="ident">STOP</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ExpoCloud.src.util.MessageType.SWAP_QUEUES"><code class="name">var <span class="ident">SWAP_QUEUES</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ExpoCloud.src.util.MessageType.WORKER_DONE"><code class="name">var <span class="ident">WORKER_DONE</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ExpoCloud.src.util.MessageType.WORKER_STARTED"><code class="name">var <span class="ident">WORKER_STARTED</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="ExpoCloud.src" href="index.html">ExpoCloud.src</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="ExpoCloud.src.util.all_le" href="#ExpoCloud.src.util.all_le">all_le</a></code></li>
<li><code><a title="ExpoCloud.src.util.all_lt" href="#ExpoCloud.src.util.all_lt">all_lt</a></code></li>
<li><code><a title="ExpoCloud.src.util.attempt_command" href="#ExpoCloud.src.util.attempt_command">attempt_command</a></code></li>
<li><code><a title="ExpoCloud.src.util.command_arg_ip" href="#ExpoCloud.src.util.command_arg_ip">command_arg_ip</a></code></li>
<li><code><a title="ExpoCloud.src.util.command_arg_max_cpus" href="#ExpoCloud.src.util.command_arg_max_cpus">command_arg_max_cpus</a></code></li>
<li><code><a title="ExpoCloud.src.util.command_arg_name" href="#ExpoCloud.src.util.command_arg_name">command_arg_name</a></code></li>
<li><code><a title="ExpoCloud.src.util.command_arg_port" href="#ExpoCloud.src.util.command_arg_port">command_arg_port</a></code></li>
<li><code><a title="ExpoCloud.src.util.filter_indices" href="#ExpoCloud.src.util.filter_indices">filter_indices</a></code></li>
<li><code><a title="ExpoCloud.src.util.filter_out" href="#ExpoCloud.src.util.filter_out">filter_out</a></code></li>
<li><code><a title="ExpoCloud.src.util.get_guest_qs" href="#ExpoCloud.src.util.get_guest_qs">get_guest_qs</a></code></li>
<li><code><a title="ExpoCloud.src.util.get_project_root" href="#ExpoCloud.src.util.get_project_root">get_project_root</a></code></li>
<li><code><a title="ExpoCloud.src.util.get_unused_port" href="#ExpoCloud.src.util.get_unused_port">get_unused_port</a></code></li>
<li><code><a title="ExpoCloud.src.util.handle_exception" href="#ExpoCloud.src.util.handle_exception">handle_exception</a></code></li>
<li><code><a title="ExpoCloud.src.util.handshake" href="#ExpoCloud.src.util.handshake">handshake</a></code></li>
<li><code><a title="ExpoCloud.src.util.list2str" href="#ExpoCloud.src.util.list2str">list2str</a></code></li>
<li><code><a title="ExpoCloud.src.util.make_manager" href="#ExpoCloud.src.util.make_manager">make_manager</a></code></li>
<li><code><a title="ExpoCloud.src.util.my_ip" href="#ExpoCloud.src.util.my_ip">my_ip</a></code></li>
<li><code><a title="ExpoCloud.src.util.my_name" href="#ExpoCloud.src.util.my_name">my_name</a></code></li>
<li><code><a title="ExpoCloud.src.util.myeprint" href="#ExpoCloud.src.util.myeprint">myeprint</a></code></li>
<li><code><a title="ExpoCloud.src.util.myprint" href="#ExpoCloud.src.util.myprint">myprint</a></code></li>
<li><code><a title="ExpoCloud.src.util.next_instance_name" href="#ExpoCloud.src.util.next_instance_name">next_instance_name</a></code></li>
<li><code><a title="ExpoCloud.src.util.output_folder" href="#ExpoCloud.src.util.output_folder">output_folder</a></code></li>
<li><code><a title="ExpoCloud.src.util.pickled_file_name" href="#ExpoCloud.src.util.pickled_file_name">pickled_file_name</a></code></li>
<li><code><a title="ExpoCloud.src.util.remote_execute" href="#ExpoCloud.src.util.remote_execute">remote_execute</a></code></li>
<li><code><a title="ExpoCloud.src.util.remote_replace" href="#ExpoCloud.src.util.remote_replace">remote_replace</a></code></li>
<li><code><a title="ExpoCloud.src.util.scp_command" href="#ExpoCloud.src.util.scp_command">scp_command</a></code></li>
<li><code><a title="ExpoCloud.src.util.set2str" href="#ExpoCloud.src.util.set2str">set2str</a></code></li>
<li><code><a title="ExpoCloud.src.util.short_now_str" href="#ExpoCloud.src.util.short_now_str">short_now_str</a></code></li>
<li><code><a title="ExpoCloud.src.util.short_timestamp" href="#ExpoCloud.src.util.short_timestamp">short_timestamp</a></code></li>
<li><code><a title="ExpoCloud.src.util.ssh_command" href="#ExpoCloud.src.util.ssh_command">ssh_command</a></code></li>
<li><code><a title="ExpoCloud.src.util.tuple_to_csv" href="#ExpoCloud.src.util.tuple_to_csv">tuple_to_csv</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="ExpoCloud.src.util.InstanceRole" href="#ExpoCloud.src.util.InstanceRole">InstanceRole</a></code></h4>
<ul class="">
<li><code><a title="ExpoCloud.src.util.InstanceRole.BACKUP_SERVER" href="#ExpoCloud.src.util.InstanceRole.BACKUP_SERVER">BACKUP_SERVER</a></code></li>
<li><code><a title="ExpoCloud.src.util.InstanceRole.CLIENT" href="#ExpoCloud.src.util.InstanceRole.CLIENT">CLIENT</a></code></li>
<li><code><a title="ExpoCloud.src.util.InstanceRole.PRIMARY_SERVER" href="#ExpoCloud.src.util.InstanceRole.PRIMARY_SERVER">PRIMARY_SERVER</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="ExpoCloud.src.util.MessageType" href="#ExpoCloud.src.util.MessageType">MessageType</a></code></h4>
<ul class="two-column">
<li><code><a title="ExpoCloud.src.util.MessageType.APPLY_DOMINO_EFFECT" href="#ExpoCloud.src.util.MessageType.APPLY_DOMINO_EFFECT">APPLY_DOMINO_EFFECT</a></code></li>
<li><code><a title="ExpoCloud.src.util.MessageType.BYE" href="#ExpoCloud.src.util.MessageType.BYE">BYE</a></code></li>
<li><code><a title="ExpoCloud.src.util.MessageType.CLIENT_TERMINATED" href="#ExpoCloud.src.util.MessageType.CLIENT_TERMINATED">CLIENT_TERMINATED</a></code></li>
<li><code><a title="ExpoCloud.src.util.MessageType.EXCEPTION" href="#ExpoCloud.src.util.MessageType.EXCEPTION">EXCEPTION</a></code></li>
<li><code><a title="ExpoCloud.src.util.MessageType.GRANT_TASKS" href="#ExpoCloud.src.util.MessageType.GRANT_TASKS">GRANT_TASKS</a></code></li>
<li><code><a title="ExpoCloud.src.util.MessageType.HEALTH_UPDATE" href="#ExpoCloud.src.util.MessageType.HEALTH_UPDATE">HEALTH_UPDATE</a></code></li>
<li><code><a title="ExpoCloud.src.util.MessageType.LOG" href="#ExpoCloud.src.util.MessageType.LOG">LOG</a></code></li>
<li><code><a title="ExpoCloud.src.util.MessageType.MESSAGE_FROM_CLIENT" href="#ExpoCloud.src.util.MessageType.MESSAGE_FROM_CLIENT">MESSAGE_FROM_CLIENT</a></code></li>
<li><code><a title="ExpoCloud.src.util.MessageType.NEW_CLIENT" href="#ExpoCloud.src.util.MessageType.NEW_CLIENT">NEW_CLIENT</a></code></li>
<li><code><a title="ExpoCloud.src.util.MessageType.NO_FURTHER_TASKS" href="#ExpoCloud.src.util.MessageType.NO_FURTHER_TASKS">NO_FURTHER_TASKS</a></code></li>
<li><code><a title="ExpoCloud.src.util.MessageType.REPORT_HARD_TASK" href="#ExpoCloud.src.util.MessageType.REPORT_HARD_TASK">REPORT_HARD_TASK</a></code></li>
<li><code><a title="ExpoCloud.src.util.MessageType.REQUEST_TASKS" href="#ExpoCloud.src.util.MessageType.REQUEST_TASKS">REQUEST_TASKS</a></code></li>
<li><code><a title="ExpoCloud.src.util.MessageType.RESULT" href="#ExpoCloud.src.util.MessageType.RESULT">RESULT</a></code></li>
<li><code><a title="ExpoCloud.src.util.MessageType.RESUME" href="#ExpoCloud.src.util.MessageType.RESUME">RESUME</a></code></li>
<li><code><a title="ExpoCloud.src.util.MessageType.STARTED" href="#ExpoCloud.src.util.MessageType.STARTED">STARTED</a></code></li>
<li><code><a title="ExpoCloud.src.util.MessageType.STOP" href="#ExpoCloud.src.util.MessageType.STOP">STOP</a></code></li>
<li><code><a title="ExpoCloud.src.util.MessageType.SWAP_QUEUES" href="#ExpoCloud.src.util.MessageType.SWAP_QUEUES">SWAP_QUEUES</a></code></li>
<li><code><a title="ExpoCloud.src.util.MessageType.WORKER_DONE" href="#ExpoCloud.src.util.MessageType.WORKER_DONE">WORKER_DONE</a></code></li>
<li><code><a title="ExpoCloud.src.util.MessageType.WORKER_STARTED" href="#ExpoCloud.src.util.MessageType.WORKER_STARTED">WORKER_STARTED</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>