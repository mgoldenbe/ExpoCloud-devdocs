
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>src package &#8212; ExpoCloud 1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/classic.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx_paramlinks.css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="src.engines package" href="src.engines.html" />
    <link rel="prev" title="examples.agent_assignment package" href="examples.agent_assignment.html" />
<script type="text/javascript">
  window.onload = function() {
    document.body.innerHTML = document.body.innerHTML.replace(/ package/g, '');
    document.body.innerHTML = document.body.innerHTML.replace(/ module/g, '');
    document.body.innerHTML = document.body.innerHTML.replace(/Subpackages/g, 'Contents');
  }
</script>

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="src.engines.html" title="src.engines package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="examples.agent_assignment.html" title="examples.agent_assignment package"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">ExpoCloud 1.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" accesskey="U">ExpoCloud</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">src package</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-src">
<span id="src-package"></span><h1>src package<a class="headerlink" href="#module-src" title="Permalink to this heading">¶</a></h1>
<p>This folder contains the implementation of the ExpoCloud framework.</p>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this heading">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="src.engines.html">src.engines package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="src.engines.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="src.engines.gce.html">src.engines.gce package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="src.engines.gce.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="src.engines.gce.html#module-src.engines.gce.engine">src.engines.gce.engine module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="src.engines.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="src.engines.html#module-src.engines.local">src.engines.local module</a></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading">¶</a></h2>
</section>
<section id="module-src.abstract_engine">
<span id="src-abstract-engine-module"></span><h2>src.abstract_engine module<a class="headerlink" href="#module-src.abstract_engine" title="Permalink to this heading">¶</a></h2>
<p>The parent class for all cloud-based compute engines.</p>
<dl class="py class">
<dt class="sig sig-object py" id="src.abstract_engine.AbstractEngine">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AbstractEngine</span></span><a class="headerlink" href="#src.abstract_engine.AbstractEngine" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The parent class for all cloud-based compute engines. We assume that the engine supports machine images. The children should implement two methods: <code class="docutils literal notranslate"><span class="pre">create_instance_native</span></code> for creating the compute instance and <code class="docutils literal notranslate"><span class="pre">kill_instance</span></code> for terminating a compute instance.</p>
<dl class="py method">
<dt class="sig sig-object py" id="src.abstract_engine.AbstractEngine.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.abstract_engine.AbstractEngine.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>The constructor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="src.abstract_engine.AbstractEngine.params.config"></span><strong>config</strong><a class="paramlink headerlink reference internal" href="#src.abstract_engine.AbstractEngine.params.config">¶</a> – The configuration dictionary with the following keys:</p>
</dd>
</dl>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">prefix</span></code> - the prefix used for the names of instances.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">project</span></code> - the name of the project on the cloud.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">server_image</span></code> - the name of the machine image for a server.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">client_image</span></code> - the name of the machine image for a server.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">root_folder</span></code> - the path to the root folder, e.g. ~/ExpoCloud/.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">project_folder</span></code> - the path to the experiment in dot notation, e.g. <code class="docutils literal notranslate"><span class="pre">'examples.agent_assignment'</span></code>.</p></li>
</ul>
<dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.abstract_engine.AbstractEngine.is_local">
<span class="sig-name descname"><span class="pre">is_local</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#src.abstract_engine.AbstractEngine.is_local" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">False</span></code> to signify that this engine is not local.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.abstract_engine.AbstractEngine.creation_attempt_allowed">
<span class="sig-name descname"><span class="pre">creation_attempt_allowed</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#src.abstract_engine.AbstractEngine.creation_attempt_allowed" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether <code class="docutils literal notranslate"><span class="pre">self.creation_delay</span></code> seconds have passed since the last attempt of instance creation.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">self.creation_delay</span></code> seconds have passed since the last attempt of instance creation and <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.abstract_engine.AbstractEngine.next_instance_name">
<span class="sig-name descname"><span class="pre">next_instance_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">role</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.util.InstanceRole" title="src.util.InstanceRole"><span class="pre">InstanceRole</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#src.abstract_engine.AbstractEngine.next_instance_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate the name for the next instance with the given role.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="src.abstract_engine.AbstractEngine.next_instance_name.params.role"></span><strong>role</strong><a class="paramlink headerlink reference internal" href="#src.abstract_engine.AbstractEngine.next_instance_name.params.role">¶</a> (<a class="reference internal" href="#src.util.InstanceRole" title="src.util.InstanceRole"><em>InstanceRole</em></a>) – The role of the instance.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The name for the next instance with the given role.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.abstract_engine.AbstractEngine.image_name">
<span class="sig-name descname"><span class="pre">image_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">role</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.util.InstanceRole" title="src.util.InstanceRole"><span class="pre">InstanceRole</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#src.abstract_engine.AbstractEngine.image_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the name of the machine image for an instance with the given role.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="src.abstract_engine.AbstractEngine.image_name.params.role"></span><strong>role</strong><a class="paramlink headerlink reference internal" href="#src.abstract_engine.AbstractEngine.image_name.params.role">¶</a> (<a class="reference internal" href="#src.util.InstanceRole" title="src.util.InstanceRole"><em>InstanceRole</em></a>) – The role of the instance.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The name of the machine image for an instance with the given role.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.abstract_engine.AbstractEngine.create_instance">
<span class="sig-name descname"><span class="pre">create_instance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">role</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.util.InstanceRole" title="src.util.InstanceRole"><span class="pre">InstanceRole</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#src.abstract_engine.AbstractEngine.create_instance" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the instance of the given type and return its IP address.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="src.abstract_engine.AbstractEngine.create_instance.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#src.abstract_engine.AbstractEngine.create_instance.params.name">¶</a> (<em>str</em>) – The name of the instance to be created.</p></li>
<li><p><span class="target" id="src.abstract_engine.AbstractEngine.create_instance.params.role"></span><strong>role</strong><a class="paramlink headerlink reference internal" href="#src.abstract_engine.AbstractEngine.create_instance.params.role">¶</a> (<a class="reference internal" href="#src.util.InstanceRole" title="src.util.InstanceRole"><em>InstanceRole</em></a>) – The role of the instance to be created.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The IP address of the newly created instance.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.abstract_engine.AbstractEngine.run_instance">
<span class="sig-name descname"><span class="pre">run_instance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ip</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">role</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.util.InstanceRole" title="src.util.InstanceRole"><span class="pre">InstanceRole</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">server_port</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_cpus</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.abstract_engine.AbstractEngine.run_instance" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="src.abstract_engine.AbstractEngine.run_instance.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#src.abstract_engine.AbstractEngine.run_instance.params.name">¶</a> (<em>str</em>) – The name of the instance to be run.</p></li>
<li><p><span class="target" id="src.abstract_engine.AbstractEngine.run_instance.params.ip"></span><strong>ip</strong><a class="paramlink headerlink reference internal" href="#src.abstract_engine.AbstractEngine.run_instance.params.ip">¶</a> (<em>str</em>) – The IP address of the instance to be run.</p></li>
<li><p><span class="target" id="src.abstract_engine.AbstractEngine.run_instance.params.role"></span><strong>role</strong><a class="paramlink headerlink reference internal" href="#src.abstract_engine.AbstractEngine.run_instance.params.role">¶</a> (<a class="reference internal" href="#src.util.InstanceRole" title="src.util.InstanceRole"><em>InstanceRole</em></a>) – The role of the instance to be run.</p></li>
<li><p><span class="target" id="src.abstract_engine.AbstractEngine.run_instance.params.server_port"></span><strong>server_port</strong><a class="paramlink headerlink reference internal" href="#src.abstract_engine.AbstractEngine.run_instance.params.server_port">¶</a> (<em>int</em>) – The port for handshaking with the primary server.</p></li>
<li><p><span class="target" id="src.abstract_engine.AbstractEngine.run_instance.params.max_cpus"></span><strong>max_cpus</strong><a class="paramlink headerlink reference internal" href="#src.abstract_engine.AbstractEngine.run_instance.params.max_cpus">¶</a> (<em>int</em><em>, </em><em>optional</em>) – The maximum number of workers to be used by the client instance, defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>, i.e. unlimited.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.abstract_engine.AbstractEngine.list_instances">
<span class="sig-name descname"><span class="pre">list_instances</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">tuple</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#src.abstract_engine.AbstractEngine.list_instances" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns list of tuples <code class="docutils literal notranslate"><span class="pre">(&lt;name&gt;,</span> <span class="pre">&lt;ip&gt;,</span> <span class="pre">&lt;status&gt;)</span></code> for each instance. The particular engine subclasses should implemented this method.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The list of tuples <code class="docutils literal notranslate"><span class="pre">(&lt;name&gt;,</span> <span class="pre">&lt;ip&gt;,</span> <span class="pre">&lt;status&gt;)</span></code> for each instance.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>List[tuple]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.abstract_engine.AbstractEngine.kill_instance">
<span class="sig-name descname"><span class="pre">kill_instance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#src.abstract_engine.AbstractEngine.kill_instance" title="Permalink to this definition">¶</a></dt>
<dd><p>Terminates the specified instance. The particular engine subclasses should implemented this method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="src.abstract_engine.AbstractEngine.kill_instance.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#src.abstract_engine.AbstractEngine.kill_instance.params.name">¶</a> (<em>str</em>) – The name of the instance to terminate.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The name of the terminated instance or <code class="docutils literal notranslate"><span class="pre">None</span></code> in the case of an exception.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.abstract_engine.AbstractEngine.kill_dangling_clients">
<span class="sig-name descname"><span class="pre">kill_dangling_clients</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">existing_clients</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.abstract_engine.AbstractEngine.kill_dangling_clients" title="Permalink to this definition">¶</a></dt>
<dd><p>Kill clients whose name has the given prefix, but is not in the provided list of names. The method relies on the particular engine implementing the <cite>list_instances</cite> method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="src.abstract_engine.AbstractEngine.kill_dangling_clients.params.prefix"></span><strong>prefix</strong><a class="paramlink headerlink reference internal" href="#src.abstract_engine.AbstractEngine.kill_dangling_clients.params.prefix">¶</a> (<em>str</em>) – The given prefix.</p></li>
<li><p><span class="target" id="src.abstract_engine.AbstractEngine.kill_dangling_clients.params.existing_clients"></span><strong>existing_clients</strong><a class="paramlink headerlink reference internal" href="#src.abstract_engine.AbstractEngine.kill_dangling_clients.params.existing_clients">¶</a> (<em>List</em><em>[</em><em>str</em><em>]</em>) – The names of instances that are not to be killed.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-src.abstract_task">
<span id="src-abstract-task-module"></span><h2>src.abstract_task module<a class="headerlink" href="#module-src.abstract_task" title="Permalink to this heading">¶</a></h2>
<p>Defines parent classes for all ProblemInstance, Algorithm and Task classes.</p>
<dl class="py class">
<dt class="sig sig-object py" id="src.abstract_task.AbstractProblemInstance">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AbstractProblemInstance</span></span><a class="headerlink" href="#src.abstract_task.AbstractProblemInstance" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This is a parent class for ProblemInstance classes, such as <a class="reference internal" href="examples.agent_assignment.html#examples.agent_assignment.instance.ProblemInstance" title="examples.agent_assignment.instance.ProblemInstance"><code class="xref any py py-class docutils literal notranslate"><span class="pre">examples.agent_assignment.instance.ProblemInstance</span></code></a>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="src.abstract_task.AbstractProblemInstance.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.abstract_task.AbstractProblemInstance.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>The constructor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="src.abstract_task.AbstractProblemInstance.params.id"></span><strong>id</strong><a class="paramlink headerlink reference internal" href="#src.abstract_task.AbstractProblemInstance.params.id">¶</a> (<em>int</em>) – Instance id.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.abstract_task.AbstractAlgorithm">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AbstractAlgorithm</span></span><a class="headerlink" href="#src.abstract_task.AbstractAlgorithm" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This is a parent class for Algorithm classes, such as <a class="reference internal" href="examples.agent_assignment.html#examples.agent_assignment.bnb.Algorithm" title="examples.agent_assignment.bnb.Algorithm"><code class="xref any py py-class docutils literal notranslate"><span class="pre">examples.agent_assignment.bnb.Algorithm</span></code></a>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="src.abstract_task.AbstractAlgorithm.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">set</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.abstract_task.AbstractProblemInstance" title="src.abstract_task.AbstractProblemInstance"><span class="pre">AbstractProblemInstance</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.abstract_task.AbstractAlgorithm.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>The constructor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="src.abstract_task.AbstractAlgorithm.params.options"></span><strong>options</strong><a class="paramlink headerlink reference internal" href="#src.abstract_task.AbstractAlgorithm.params.options">¶</a> (<em>set</em>) – The options controlling the behavior of the algorithm.</p></li>
<li><p><span class="target" id="src.abstract_task.AbstractAlgorithm.params.instance"></span><strong>instance</strong><a class="paramlink headerlink reference internal" href="#src.abstract_task.AbstractAlgorithm.params.instance">¶</a> (<a class="reference internal" href="#src.abstract_task.AbstractProblemInstance" title="src.abstract_task.AbstractProblemInstance"><em>AbstractProblemInstance</em></a>) – The problem instance</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.abstract_task.AbstractTask">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AbstractTask</span></span><a class="headerlink" href="#src.abstract_task.AbstractTask" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This is a parent class for Task classes for experiments. See <a class="reference internal" href="examples.agent_assignment.html#examples.agent_assignment.task.Task" title="examples.agent_assignment.task.Task"><code class="xref any py py-class docutils literal notranslate"><span class="pre">examples.agent_assignment.task.Task</span></code></a> for an example.</p>
<dl class="py class">
<dt class="sig sig-object py" id="src.abstract_task.AbstractTask.Hardness">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Hardness</span></span><a class="headerlink" href="#src.abstract_task.AbstractTask.Hardness" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The default class to represent hardness of a task. It provides default comparators.</p>
<dl class="py method">
<dt class="sig sig-object py" id="src.abstract_task.AbstractTask.Hardness.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.abstract_task.AbstractTask.Hardness.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>The constructor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="src.abstract_task.AbstractTask.Hardness.params.params"></span><strong>params</strong><a class="paramlink headerlink reference internal" href="#src.abstract_task.AbstractTask.Hardness.params.params">¶</a> (<em>tuple</em>) – The tuple of parameters determining the task’s hardness.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.abstract_task.AbstractTask.Hardness.__str__">
<span class="sig-name descname"><span class="pre">__str__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#src.abstract_task.AbstractTask.Hardness.__str__" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the string representation of hardness.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The string representation of hardness.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.abstract_task.AbstractTask.Hardness.__repr__">
<span class="sig-name descname"><span class="pre">__repr__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#src.abstract_task.AbstractTask.Hardness.__repr__" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the string representation of hardness.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The string representation of hardness.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.abstract_task.AbstractTask.Hardness.__lt__">
<span class="sig-name descname"><span class="pre">__lt__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.abstract_task.AbstractTask.Hardness" title="src.abstract_task.AbstractTask.Hardness"><span class="pre">Hardness</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#src.abstract_task.AbstractTask.Hardness.__lt__" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether this hardness is strictly less than <a class="reference internal" href="#src.abstract_task.AbstractTask.Hardness.__lt__.params.other" title="src.abstract_task.AbstractTask.Hardness.__lt__"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">other</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="src.abstract_task.AbstractTask.Hardness.__lt__.params.other"></span><strong>other</strong><a class="paramlink headerlink reference internal" href="#src.abstract_task.AbstractTask.Hardness.__lt__.params.other">¶</a> (<a class="reference internal" href="#src.abstract_task.AbstractTask.Hardness" title="src.abstract_task.AbstractTask.Hardness"><em>Hardness</em></a>) – The hardness to be compared to.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if hardness is strictly less than <a class="reference internal" href="#src.abstract_task.AbstractTask.Hardness.__lt__.params.other" title="src.abstract_task.AbstractTask.Hardness.__lt__"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">other</span></code></a> and <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.abstract_task.AbstractTask.Hardness.__le__">
<span class="sig-name descname"><span class="pre">__le__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.abstract_task.AbstractTask.Hardness" title="src.abstract_task.AbstractTask.Hardness"><span class="pre">Hardness</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#src.abstract_task.AbstractTask.Hardness.__le__" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether this hardness is less than or equal to <a class="reference internal" href="#src.abstract_task.AbstractTask.Hardness.__le__.params.other" title="src.abstract_task.AbstractTask.Hardness.__le__"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">other</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="src.abstract_task.AbstractTask.Hardness.__le__.params.other"></span><strong>other</strong><a class="paramlink headerlink reference internal" href="#src.abstract_task.AbstractTask.Hardness.__le__.params.other">¶</a> (<a class="reference internal" href="#src.abstract_task.AbstractTask.Hardness" title="src.abstract_task.AbstractTask.Hardness"><em>Hardness</em></a>) – The hardness to be compared to.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if hardness is less than or equal to <a class="reference internal" href="#src.abstract_task.AbstractTask.Hardness.__le__.params.other" title="src.abstract_task.AbstractTask.Hardness.__le__"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">other</span></code></a> and <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.abstract_task.AbstractTask.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">algorithm</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.abstract_task.AbstractAlgorithm" title="src.abstract_task.AbstractAlgorithm"><span class="pre">AbstractAlgorithm</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.abstract_task.AbstractTask.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>The constructor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="src.abstract_task.AbstractTask.params.algorithm"></span><strong>algorithm</strong><a class="paramlink headerlink reference internal" href="#src.abstract_task.AbstractTask.params.algorithm">¶</a> (<a class="reference internal" href="#src.abstract_task.AbstractAlgorithm" title="src.abstract_task.AbstractAlgorithm"><em>AbstractAlgorithm</em></a>) – The algorithm used to solve the problem instance.</p></li>
<li><p><span class="target" id="src.abstract_task.AbstractTask.params.timeout"></span><strong>timeout</strong><a class="paramlink headerlink reference internal" href="#src.abstract_task.AbstractTask.params.timeout">¶</a> (<em>float</em>) – The deadline for the task in seconds.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.abstract_task.AbstractTask.group_parameter_titles">
<span class="sig-name descname"><span class="pre">group_parameter_titles</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#src.abstract_task.AbstractTask.group_parameter_titles" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the tuple of names of parameters that determine groups for counting the number of non-hard instances.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The tuple of names of parameters that determine groups for counting the number of non-hard instances.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.abstract_task.AbstractTask.group_parameters">
<span class="sig-name descname"><span class="pre">group_parameters</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="headerlink" href="#src.abstract_task.AbstractTask.group_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the tuple of parameters that determine groups for counting the number of non-hard instances.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The tuple of parameters that determine groups for counting the number of non-hard instances.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.abstract_task.AbstractTask.parameter_titles">
<span class="sig-name descname"><span class="pre">parameter_titles</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#src.abstract_task.AbstractTask.parameter_titles" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the tuple of names of parameters that characterize the task.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The tuple of names of parameters that characterize the task.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.abstract_task.AbstractTask.parameters">
<span class="sig-name descname"><span class="pre">parameters</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="headerlink" href="#src.abstract_task.AbstractTask.parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the tuple of parameters that characterize the task.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The tuple of parameters that characterize the task.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.abstract_task.AbstractTask.hardness_parameters">
<span class="sig-name descname"><span class="pre">hardness_parameters</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="headerlink" href="#src.abstract_task.AbstractTask.hardness_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the tuple of parameters determining the hardness of the task. This is to be used to initialize the Hardness object.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The tuple of parameters determining the hardness of the task.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.abstract_task.AbstractTask.result_titles">
<span class="sig-name descname"><span class="pre">result_titles</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#src.abstract_task.AbstractTask.result_titles" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the tuple of names of output values for the solved task.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The tuple of names of output values for the solved task.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.abstract_task.AbstractTask.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="headerlink" href="#src.abstract_task.AbstractTask.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the tuple of output values for the solved task.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The tuple of output values for the solved task.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.abstract_task.AbstractTask.__str__">
<span class="sig-name descname"><span class="pre">__str__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#src.abstract_task.AbstractTask.__str__" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the string representation of the task.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The string representation of the task.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.abstract_task.AbstractTask.__repr__">
<span class="sig-name descname"><span class="pre">__repr__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#src.abstract_task.AbstractTask.__repr__" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the string representation of the task.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The string representation of the task.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-src.client">
<span id="src-client-module"></span><h2>src.client module<a class="headerlink" href="#module-src.client" title="Permalink to this heading">¶</a></h2>
<p>The two classes implementing the client - the <code class="docutils literal notranslate"><span class="pre">Worker</span></code> and the <code class="docutils literal notranslate"><span class="pre">Client</span></code>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="src.client.Worker">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Worker</span></span><a class="headerlink" href="#src.client.Worker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Process</span></code></p>
<p>The class representing a worker charged with a task.</p>
<dl class="py method">
<dt class="sig sig-object py" id="src.client.Worker.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.abstract_task.AbstractTask" title="src.abstract_task.AbstractTask"><span class="pre">AbstractTask</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">queue</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Queue</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.client.Worker.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>The constructor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="src.client.Worker.params.id"></span><strong>id</strong><a class="paramlink headerlink reference internal" href="#src.client.Worker.params.id">¶</a> (<em>int</em>) – The worker’s id.</p></li>
<li><p><span class="target" id="src.client.Worker.params.task"></span><strong>task</strong><a class="paramlink headerlink reference internal" href="#src.client.Worker.params.task">¶</a> (<a class="reference internal" href="#src.abstract_task.AbstractTask" title="src.abstract_task.AbstractTask"><em>AbstractTask</em></a>) – The task to execute.</p></li>
<li><p><span class="target" id="src.client.Worker.params.queue"></span><strong>queue</strong><a class="paramlink headerlink reference internal" href="#src.client.Worker.params.queue">¶</a> (<em>Queue</em>) – The queue for communicating the result.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.client.Worker.my_kill">
<span class="sig-name descname"><span class="pre">my_kill</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#src.client.Worker.my_kill" title="Permalink to this definition">¶</a></dt>
<dd><p>Terminate the worker.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.client.Worker.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#src.client.Worker.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the worker process executing the task.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.client.Client">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Client</span></span><a class="headerlink" href="#src.client.Client" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The main client class.</p>
<dl class="py method">
<dt class="sig sig-object py" id="src.client.Client.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#src.client.Client.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>The constructor. In particular, it shakes hands with the primary server and create the queues for communicating with both the primary and the backup servers.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.client.Client.message_to_servers">
<span class="sig-name descname"><span class="pre">message_to_servers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.util.MessageType" title="src.util.MessageType"><span class="pre">MessageType</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.client.Client.message_to_servers" title="Permalink to this definition">¶</a></dt>
<dd><p>Send the message to both primary and backup servers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="src.client.Client.message_to_servers.params.type"></span><strong>type</strong><a class="paramlink headerlink reference internal" href="#src.client.Client.message_to_servers.params.type">¶</a> (<a class="reference internal" href="#src.util.MessageType" title="src.util.MessageType"><em>MessageType</em></a>) – The message type.</p></li>
<li><p><span class="target" id="src.client.Client.message_to_servers.params.body"></span><strong>body</strong><a class="paramlink headerlink reference internal" href="#src.client.Client.message_to_servers.params.body">¶</a> (<em>Any</em>) – The body of the message.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.client.Client.event_to_servers">
<span class="sig-name descname"><span class="pre">event_to_servers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">descr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">worker</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#src.client.Worker" title="src.client.Worker"><span class="pre">Worker</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#src.abstract_task.AbstractTask" title="src.abstract_task.AbstractTask"><span class="pre">AbstractTask</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.client.Client.event_to_servers" title="Permalink to this definition">¶</a></dt>
<dd><p>Send an event to servers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="src.client.Client.event_to_servers.params.descr"></span><strong>descr</strong><a class="paramlink headerlink reference internal" href="#src.client.Client.event_to_servers.params.descr">¶</a> (<em>str</em>) – The event description.</p></li>
<li><p><span class="target" id="src.client.Client.event_to_servers.params.worker"></span><strong>worker</strong><a class="paramlink headerlink reference internal" href="#src.client.Client.event_to_servers.params.worker">¶</a> (<a class="reference internal" href="#src.client.Worker" title="src.client.Worker"><em>Worker</em></a><em>, </em><em>optional</em>) – The worker at which the event took place or <code class="docutils literal notranslate"><span class="pre">None</span></code> if the event is not related to any worker; defaults to None.</p></li>
<li><p><span class="target" id="src.client.Client.event_to_servers.params.task"></span><strong>task</strong><a class="paramlink headerlink reference internal" href="#src.client.Client.event_to_servers.params.task">¶</a> (<a class="reference internal" href="#src.abstract_task.AbstractTask" title="src.abstract_task.AbstractTask"><em>AbstractTask</em></a><em>, </em><em>optional</em>) – The task to which the event is relevant or <code class="docutils literal notranslate"><span class="pre">None</span></code> if the event is not relevant to any task; defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.client.Client.process_grant_tasks">
<span class="sig-name descname"><span class="pre">process_grant_tasks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tasks</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#src.abstract_task.AbstractTask" title="src.abstract_task.AbstractTask"><span class="pre">AbstractTask</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.client.Client.process_grant_tasks" title="Permalink to this definition">¶</a></dt>
<dd><p>Process tasks granted to this client by the primary server.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="src.client.Client.process_grant_tasks.params.tasks"></span><strong>tasks</strong><a class="paramlink headerlink reference internal" href="#src.client.Client.process_grant_tasks.params.tasks">¶</a> (<em>List</em><em>[</em><a class="reference internal" href="#src.abstract_task.AbstractTask" title="src.abstract_task.AbstractTask"><em>AbstractTask</em></a><em>]</em>) – The tasks granted.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.client.Client.apply_domino_effect">
<span class="sig-name descname"><span class="pre">apply_domino_effect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hard</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.client.Client.apply_domino_effect" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply the domino effect based on the given hardness. Namely,</p>
<ul class="simple">
<li><p>Terminate the workers that execute tasks with hardness greater than or equal to <a class="reference internal" href="#src.client.Client.apply_domino_effect.params.hard" title="src.client.Client.apply_domino_effect"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">hard</span></code></a>.</p></li>
<li><p>Remove the corresponding tasks from <code class="docutils literal notranslate"><span class="pre">self.tasks</span></code>.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="src.client.Client.apply_domino_effect.params.hard"></span><strong>hard</strong><a class="paramlink headerlink reference internal" href="#src.client.Client.apply_domino_effect.params.hard">¶</a> (<em>tuple</em>) – The hardness of the task that timed out as reported by the primary server.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.client.Client.process_no_further_tasks">
<span class="sig-name descname"><span class="pre">process_no_further_tasks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_body</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.client.Client.process_no_further_tasks" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the flag about having receive the <code class="docutils literal notranslate"><span class="pre">NO_FURTHER_TASKS</span></code> message from the primary server.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.client.Client.process_stop">
<span class="sig-name descname"><span class="pre">process_stop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_body</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.client.Client.process_stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the flag about having receive the <code class="docutils literal notranslate"><span class="pre">STOP</span></code> message from the primary server.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.client.Client.process_resume">
<span class="sig-name descname"><span class="pre">process_resume</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_body</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.client.Client.process_resume" title="Permalink to this definition">¶</a></dt>
<dd><p>Unset the flag about having receive the <code class="docutils literal notranslate"><span class="pre">STOP</span></code> message from the primary server and perform the relevant bookkeeping.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.client.Client.process_swap_queues">
<span class="sig-name descname"><span class="pre">process_swap_queues</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_body</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.client.Client.process_swap_queues" title="Permalink to this definition">¶</a></dt>
<dd><p>Swap the queues for communication with the servers, so that the queues previously used for communication with the backup server are now treated as the queues for communication with the primary server, and vice versa.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.client.Client.process_messages">
<span class="sig-name descname"><span class="pre">process_messages</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#src.client.Client.process_messages" title="Permalink to this definition">¶</a></dt>
<dd><p>Process messages from the servers.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.client.Client.process_worker_started">
<span class="sig-name descname"><span class="pre">process_worker_started</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">worker</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.client.Worker" title="src.client.Worker"><span class="pre">Worker</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">_body</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.client.Client.process_worker_started" title="Permalink to this definition">¶</a></dt>
<dd><p>Process the event of the worker having started by sending the corresponding event to the servers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="src.client.Client.process_worker_started.params.worker"></span><strong>worker</strong><a class="paramlink headerlink reference internal" href="#src.client.Client.process_worker_started.params.worker">¶</a> (<a class="reference internal" href="#src.client.Worker" title="src.client.Worker"><em>Worker</em></a>) – The worker that started.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.client.Client.process_worker_done">
<span class="sig-name descname"><span class="pre">process_worker_done</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">worker</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.client.Worker" title="src.client.Worker"><span class="pre">Worker</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">result</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.client.Client.process_worker_done" title="Permalink to this definition">¶</a></dt>
<dd><p>Process the event of the worker having completed its task by sending both the result and the corresponding event to the servers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="src.client.Client.process_worker_done.params.worker"></span><strong>worker</strong><a class="paramlink headerlink reference internal" href="#src.client.Client.process_worker_done.params.worker">¶</a> (<em>tuple</em>) – The worker that finished.</p></li>
<li><p><span class="target" id="src.client.Client.process_worker_done.params.worker"></span><strong>worker</strong><a class="paramlink headerlink reference internal" href="#src.client.Client.process_worker_done.params.worker">¶</a> – The result for the completed task.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.client.Client.process_worker_messages">
<span class="sig-name descname"><span class="pre">process_worker_messages</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#src.client.Client.process_worker_messages" title="Permalink to this definition">¶</a></dt>
<dd><p>Process messages from workers.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.client.Client.collect_garbage">
<span class="sig-name descname"><span class="pre">collect_garbage</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#src.client.Client.collect_garbage" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove objects corresponding to workers that have terminated.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.client.Client.kill_overdue">
<span class="sig-name descname"><span class="pre">kill_overdue</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#src.client.Client.kill_overdue" title="Permalink to this definition">¶</a></dt>
<dd><p>Terminate workers whose task has timed out. For each timed out task, send the <code class="docutils literal notranslate"><span class="pre">REPORT_HARD_TASK</span></code> message to the servers.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.client.Client.process_workers">
<span class="sig-name descname"><span class="pre">process_workers</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#src.client.Client.process_workers" title="Permalink to this definition">¶</a></dt>
<dd><p>Manage the workers by performing three actions:</p>
<ul class="simple">
<li><p>Process messages from the workers.</p></li>
<li><p>Remove objects corresponding to workers that have terminated.</p></li>
<li><p>Process workers whose task has timed out.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.client.Client.health_update">
<span class="sig-name descname"><span class="pre">health_update</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#src.client.Client.health_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Send health update to the servers.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.client.Client.request_tasks">
<span class="sig-name descname"><span class="pre">request_tasks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.client.Client.request_tasks" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a message to the servers requesting <a class="reference internal" href="#src.client.Client.request_tasks.params.n" title="src.client.Client.request_tasks"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">n</span></code></a> tasks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="src.client.Client.request_tasks.params.n"></span><strong>n</strong><a class="paramlink headerlink reference internal" href="#src.client.Client.request_tasks.params.n">¶</a> (<em>int</em>) – The number of tasks to request.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.client.Client.occupy_workers">
<span class="sig-name descname"><span class="pre">occupy_workers</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#src.client.Client.occupy_workers" title="Permalink to this definition">¶</a></dt>
<dd><p>Create workers for the tasks assigned to this client, charge the new workers with tasks and start them.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.client.Client.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#src.client.Client.run" title="Permalink to this definition">¶</a></dt>
<dd><p>The main loop of the client. The loop is over when there are no more tasks to be assigned to the client and all tasks previously assigned to it are completed. Once the loop is over, send the <code class="docutils literal notranslate"><span class="pre">BYE</span></code> message to the servers, wait for them to process this message, and complete.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-src.constants">
<span id="src-constants-module"></span><h2>src.constants module<a class="headerlink" href="#module-src.constants" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="src.constants.Verbosity">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Verbosity</span></span><a class="headerlink" href="#src.constants.Verbosity" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Constants determining which output is to be printed.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.constants.Verbosity.all">
<span class="sig-name descname"><span class="pre">all</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#src.constants.Verbosity.all" title="Permalink to this definition">¶</a></dt>
<dd><p>Output not about a specific topic specified by the other constants.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.constants.Verbosity.instance_creation_etc">
<span class="sig-name descname"><span class="pre">instance_creation_etc</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#src.constants.Verbosity.instance_creation_etc" title="Permalink to this definition">¶</a></dt>
<dd><p>Output detailing the creation of cloud instances.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.constants.Verbosity.workers">
<span class="sig-name descname"><span class="pre">workers</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#src.constants.Verbosity.workers" title="Permalink to this definition">¶</a></dt>
<dd><p>Output detailing the operation of the workers at a client.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.constants.Verbosity.message_sync">
<span class="sig-name descname"><span class="pre">message_sync</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#src.constants.Verbosity.message_sync" title="Permalink to this definition">¶</a></dt>
<dd><p>Output detailing the synchronization of messages from the primary and the backup servers to the clients.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.constants.Verbosity.messages">
<span class="sig-name descname"><span class="pre">messages</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#src.constants.Verbosity.messages" title="Permalink to this definition">¶</a></dt>
<dd><p>Output detailing the processing of messages.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.constants.Verbosity.all_non_health_messages">
<span class="sig-name descname"><span class="pre">all_non_health_messages</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#src.constants.Verbosity.all_non_health_messages" title="Permalink to this definition">¶</a></dt>
<dd><p>Output all non-health-report messages received by one of the servers.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.constants.Verbosity.failure_traceback">
<span class="sig-name descname"><span class="pre">failure_traceback</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#src.constants.Verbosity.failure_traceback" title="Permalink to this definition">¶</a></dt>
<dd><p>Output of the traceback record for failure events.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.constants.Verbosity.command_lines">
<span class="sig-name descname"><span class="pre">command_lines</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#src.constants.Verbosity.command_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Output of the command lines to be executed.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.constants.Constants">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Constants</span></span><a class="headerlink" href="#src.constants.Constants" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The constants used throughout the framework. All times are in seconds.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.constants.Constants.MIN_CREATION_DELAY">
<span class="sig-name descname"><span class="pre">MIN_CREATION_DELAY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">30</span></em><a class="headerlink" href="#src.constants.Constants.MIN_CREATION_DELAY" title="Permalink to this definition">¶</a></dt>
<dd><p>The initial delay for instance creation.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.constants.Constants.INSTANCE_MAX_NON_ACTIVE_TIME">
<span class="sig-name descname"><span class="pre">INSTANCE_MAX_NON_ACTIVE_TIME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">300</span></em><a class="headerlink" href="#src.constants.Constants.INSTANCE_MAX_NON_ACTIVE_TIME" title="Permalink to this definition">¶</a></dt>
<dd><p>If no handshake for this amount of time, kill the instance.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.constants.Constants.HEALTH_UPDATE_FREQUENCY">
<span class="sig-name descname"><span class="pre">HEALTH_UPDATE_FREQUENCY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#src.constants.Constants.HEALTH_UPDATE_FREQUENCY" title="Permalink to this definition">¶</a></dt>
<dd><p>Frequency of health updates</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.constants.Constants.HEALTH_UPDATE_LIMIT">
<span class="sig-name descname"><span class="pre">HEALTH_UPDATE_LIMIT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">60</span></em><a class="headerlink" href="#src.constants.Constants.HEALTH_UPDATE_LIMIT" title="Permalink to this definition">¶</a></dt>
<dd><p>An otherwise active instance that has not reported on its health for this amount of time is considered unhealthy.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.constants.Constants.SSH_RETRY_DELAY">
<span class="sig-name descname"><span class="pre">SSH_RETRY_DELAY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">5</span></em><a class="headerlink" href="#src.constants.Constants.SSH_RETRY_DELAY" title="Permalink to this definition">¶</a></dt>
<dd><p>If ssh fails, attempt again after this delay.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.constants.Constants.CLIENTS_TIME_TO_STOP">
<span class="sig-name descname"><span class="pre">CLIENTS_TIME_TO_STOP</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">5</span></em><a class="headerlink" href="#src.constants.Constants.CLIENTS_TIME_TO_STOP" title="Permalink to this definition">¶</a></dt>
<dd><p>Time for clients so surely stop sending messages following the sending of the <code class="docutils literal notranslate"><span class="pre">STOP</span></code> event.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.constants.Constants.OUTPUT_FOLDER">
<span class="sig-name descname"><span class="pre">OUTPUT_FOLDER</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'output'</span></em><a class="headerlink" href="#src.constants.Constants.OUTPUT_FOLDER" title="Permalink to this definition">¶</a></dt>
<dd><p>The folder for storing the output files.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.constants.Constants.PICKLED_SERVER_FILE">
<span class="sig-name descname"><span class="pre">PICKLED_SERVER_FILE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'output/pickled'</span></em><a class="headerlink" href="#src.constants.Constants.PICKLED_SERVER_FILE" title="Permalink to this definition">¶</a></dt>
<dd><p>The file storing the serialized server object.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.constants.Constants.SERVER_CYCLE_WAIT">
<span class="sig-name descname"><span class="pre">SERVER_CYCLE_WAIT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.1</span></em><a class="headerlink" href="#src.constants.Constants.SERVER_CYCLE_WAIT" title="Permalink to this definition">¶</a></dt>
<dd><p>The delay between two successive iterations of the main server loop.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.constants.Constants.CLIENT_CYCLE_WAIT">
<span class="sig-name descname"><span class="pre">CLIENT_CYCLE_WAIT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.1</span></em><a class="headerlink" href="#src.constants.Constants.CLIENT_CYCLE_WAIT" title="Permalink to this definition">¶</a></dt>
<dd><p>The delay between two successive iterations of the main client loop.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.constants.Constants.CLIENT_WAIT_AFTER_SENDING_BYE">
<span class="sig-name descname"><span class="pre">CLIENT_WAIT_AFTER_SENDING_BYE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">5</span></em><a class="headerlink" href="#src.constants.Constants.CLIENT_WAIT_AFTER_SENDING_BYE" title="Permalink to this definition">¶</a></dt>
<dd><p>The delay between a client sending the <code class="docutils literal notranslate"><span class="pre">BYE</span></code> message to the server and completing.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.constants.Constants.WORKER_WAIT_AFTER_DONE">
<span class="sig-name descname"><span class="pre">WORKER_WAIT_AFTER_DONE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#src.constants.Constants.WORKER_WAIT_AFTER_DONE" title="Permalink to this definition">¶</a></dt>
<dd><p>The delay between a worker sending reporting the result to the client and completing.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-src.instance">
<span id="src-instance-module"></span><h2>src.instance module<a class="headerlink" href="#module-src.instance" title="Permalink to this heading">¶</a></h2>
<p>Classes for representing a cloud instance at either the primary or the backup server.</p>
<dl class="py class">
<dt class="sig sig-object py" id="src.instance.Instance">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Instance</span></span><a class="headerlink" href="#src.instance.Instance" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The parent class for classes representing a cloud instance at either the primary or the backup server. This class is only for representing a backup server or a client instance. Note the class for representing a primary server in the backup server does not derive from this class.</p>
<dl class="py method">
<dt class="sig sig-object py" id="src.instance.Instance.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">role</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.util.InstanceRole" title="src.util.InstanceRole"><span class="pre">InstanceRole</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#src.abstract_engine.AbstractEngine" title="src.abstract_engine.AbstractEngine"><span class="pre">AbstractEngine</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="src.engines.html#src.engines.local.LocalEngine" title="src.engines.local.LocalEngine"><span class="pre">LocalEngine</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.instance.Instance.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>The constructor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="src.instance.Instance.params.role"></span><strong>role</strong><a class="paramlink headerlink reference internal" href="#src.instance.Instance.params.role">¶</a> (<a class="reference internal" href="#src.util.InstanceRole" title="src.util.InstanceRole"><em>InstanceRole</em></a>) – The role of the instance.</p></li>
<li><p><span class="target" id="src.instance.Instance.params.engine"></span><strong>engine</strong><a class="paramlink headerlink reference internal" href="#src.instance.Instance.params.engine">¶</a> (<em>Union</em><em>[</em><a class="reference internal" href="#src.abstract_engine.AbstractEngine" title="src.abstract_engine.AbstractEngine"><em>AbstractEngine</em></a><em>, </em><a class="reference internal" href="src.engines.html#src.engines.local.LocalEngine" title="src.engines.local.LocalEngine"><em>LocalEngine</em></a><em>]</em><em>)</em>) – The engine being used.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.instance.Instance.create">
<span class="sig-name descname"><span class="pre">create</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#src.instance.Instance.create" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the cloud instance.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.instance.Instance.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">server_port</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_cpus</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.instance.Instance.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the instance.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.instance.Instance.is_healthy">
<span class="sig-name descname"><span class="pre">is_healthy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tasks_remain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.instance.Instance.is_healthy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if the instance is healthy, i.e. either:</p>
<ul class="simple">
<li><p>The instance has no IP address (so that no real instance had been created) and there are task remaining.</p></li>
<li><p>The instance has an IP address, but is not active (i.e. has not shaken hands with the primary server). For client instance, we also require that there still be tasks remaining as indicated. For all types of instances, INSTANCE_MAX_NON_ACTIVE_TIME has not passed since its creation.</p></li>
<li><p>It is active and HEALTH_UPDATE_LIMIT has not passed since last health 
update.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="src.instance.Instance.is_healthy.params.tasks_remain"></span><strong>tasks_remain</strong><a class="paramlink headerlink reference internal" href="#src.instance.Instance.is_healthy.params.tasks_remain">¶</a> (<em>bool</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> if there are tasks remaining and <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>_description_</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>_type_</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.instance.Instance.shake_hands">
<span class="sig-name descname"><span class="pre">shake_hands</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#src.instance.Instance.shake_hands" title="Permalink to this definition">¶</a></dt>
<dd><p>Shake hands with the instance. The common action implemented here is storing the timestamp of when the instance became active, where being <em>active</em> means that the handshake with it has taken place.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.instance.ClientInstance">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ClientInstance</span></span><a class="headerlink" href="#src.instance.ClientInstance" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#src.instance.Instance" title="src.instance.Instance"><code class="xref py py-class docutils literal notranslate"><span class="pre">Instance</span></code></a></p>
<p>The class for representing a client instance in either the primary or the backup server.</p>
<dl class="py method">
<dt class="sig sig-object py" id="src.instance.ClientInstance.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#src.abstract_engine.AbstractEngine" title="src.abstract_engine.AbstractEngine"><span class="pre">AbstractEngine</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="src.engines.html#src.engines.local.LocalEngine" title="src.engines.local.LocalEngine"><span class="pre">LocalEngine</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tasks_from_failed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#src.abstract_task.AbstractTask" title="src.abstract_task.AbstractTask"><span class="pre">AbstractTask</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.instance.ClientInstance.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>The constructor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="src.instance.ClientInstance.params.engine"></span><strong>engine</strong><a class="paramlink headerlink reference internal" href="#src.instance.ClientInstance.params.engine">¶</a> (<em>Union</em><em>[</em><a class="reference internal" href="#src.abstract_engine.AbstractEngine" title="src.abstract_engine.AbstractEngine"><em>AbstractEngine</em></a><em>, </em><a class="reference internal" href="src.engines.html#src.engines.local.LocalEngine" title="src.engines.local.LocalEngine"><em>LocalEngine</em></a><em>]</em>) – The engine being used.</p></li>
<li><p><span class="target" id="src.instance.ClientInstance.params.tasks_from_failed"></span><strong>tasks_from_failed</strong><a class="paramlink headerlink reference internal" href="#src.instance.ClientInstance.params.tasks_from_failed">¶</a> (<em>List</em><em>[</em><a class="reference internal" href="#src.abstract_task.AbstractTask" title="src.abstract_task.AbstractTask"><em>AbstractTask</em></a><em>]</em>) – The list in which to store the tasks assigned to the client in the case of failure.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.instance.ClientInstance.connect">
<span class="sig-name descname"><span class="pre">connect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">server_role</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.util.InstanceRole" title="src.util.InstanceRole"><span class="pre">InstanceRole</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.instance.ClientInstance.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Connect to the appropriate queues of the server.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="src.instance.ClientInstance.connect.params.server_role"></span><strong>server_role</strong><a class="paramlink headerlink reference internal" href="#src.instance.ClientInstance.connect.params.server_role">¶</a> (<a class="reference internal" href="#src.util.InstanceRole" title="src.util.InstanceRole"><em>InstanceRole</em></a>) – The role of the server at which the client instance is being represented.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.instance.ClientInstance.init_files">
<span class="sig-name descname"><span class="pre">init_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.instance.ClientInstance.init_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Open files for storing events and exceptions from this client.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="src.instance.ClientInstance.init_files.params.parent_dir"></span><strong>parent_dir</strong><a class="paramlink headerlink reference internal" href="#src.instance.ClientInstance.init_files.params.parent_dir">¶</a> (<em>str</em>) – The folder to contain the files.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.instance.ClientInstance.shake_hands">
<span class="sig-name descname"><span class="pre">shake_hands</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">server_role</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.util.InstanceRole" title="src.util.InstanceRole"><span class="pre">InstanceRole</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.instance.ClientInstance.shake_hands" title="Permalink to this definition">¶</a></dt>
<dd><p>Shake hands with the client.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="src.instance.ClientInstance.shake_hands.params.server_role"></span><strong>server_role</strong><a class="paramlink headerlink reference internal" href="#src.instance.ClientInstance.shake_hands.params.server_role">¶</a> (<a class="reference internal" href="#src.util.InstanceRole" title="src.util.InstanceRole"><em>InstanceRole</em></a>) – The role of the server at which the client is being represented.</p></li>
<li><p><span class="target" id="src.instance.ClientInstance.shake_hands.params.parent_dir"></span><strong>parent_dir</strong><a class="paramlink headerlink reference internal" href="#src.instance.ClientInstance.shake_hands.params.parent_dir">¶</a> (<em>str</em>) – The folder within which the folder with the files related to this client is to be contained.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.instance.ClientInstance.register_tasks">
<span class="sig-name descname"><span class="pre">register_tasks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tasks</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#src.abstract_task.AbstractTask" title="src.abstract_task.AbstractTask"><span class="pre">AbstractTask</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.instance.ClientInstance.register_tasks" title="Permalink to this definition">¶</a></dt>
<dd><p>Register tasks assigned to this client.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="src.instance.ClientInstance.register_tasks.params.tasks"></span><strong>tasks</strong><a class="paramlink headerlink reference internal" href="#src.instance.ClientInstance.register_tasks.params.tasks">¶</a> (<em>List</em><em>[</em><a class="reference internal" href="#src.abstract_task.AbstractTask" title="src.abstract_task.AbstractTask"><em>AbstractTask</em></a><em>]</em>) – The newly assigned tasks.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.instance.ClientInstance.unregister_task">
<span class="sig-name descname"><span class="pre">unregister_task</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.instance.ClientInstance.unregister_task" title="Permalink to this definition">¶</a></dt>
<dd><p>Unregister a given task from this client.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="src.instance.ClientInstance.unregister_task.params.t_id"></span><strong>t_id</strong><a class="paramlink headerlink reference internal" href="#src.instance.ClientInstance.unregister_task.params.t_id">¶</a> (<em>int</em>) – The task id.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.instance.ClientInstance.unregister_domino">
<span class="sig-name descname"><span class="pre">unregister_domino</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tasks</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#src.abstract_task.AbstractTask" title="src.abstract_task.AbstractTask"><span class="pre">AbstractTask</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hardness</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.instance.ClientInstance.unregister_domino" title="Permalink to this definition">¶</a></dt>
<dd><p>Unregister all tasks that have been previously registered with this client and can now be proven to be hard due to a task with the given <a class="reference internal" href="#src.instance.ClientInstance.unregister_domino.params.hardness" title="src.instance.ClientInstance.unregister_domino"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">hardness</span></code></a> having timed out.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="src.instance.ClientInstance.unregister_domino.params.tasks"></span><strong>tasks</strong><a class="paramlink headerlink reference internal" href="#src.instance.ClientInstance.unregister_domino.params.tasks">¶</a> (<em>List</em><em>[</em><a class="reference internal" href="#src.abstract_task.AbstractTask" title="src.abstract_task.AbstractTask"><em>AbstractTask</em></a><em>]</em>) – All the tasks.</p></li>
<li><p><span class="target" id="src.instance.ClientInstance.unregister_domino.params.hardness"></span><strong>hardness</strong><a class="paramlink headerlink reference internal" href="#src.instance.ClientInstance.unregister_domino.params.hardness">¶</a> (<em>tuple</em>) – The hardness of the task that has timed out.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.instance.BackupServerInstance">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">BackupServerInstance</span></span><a class="headerlink" href="#src.instance.BackupServerInstance" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#src.instance.Instance" title="src.instance.Instance"><code class="xref py py-class docutils literal notranslate"><span class="pre">Instance</span></code></a></p>
<p>The class for representing the backup server instance in the primary server.</p>
<dl class="py method">
<dt class="sig sig-object py" id="src.instance.BackupServerInstance.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#src.abstract_engine.AbstractEngine" title="src.abstract_engine.AbstractEngine"><span class="pre">AbstractEngine</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="src.engines.html#src.engines.local.LocalEngine" title="src.engines.local.LocalEngine"><span class="pre">LocalEngine</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.instance.BackupServerInstance.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>The constructor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="src.instance.BackupServerInstance.params.engine"></span><strong>engine</strong><a class="paramlink headerlink reference internal" href="#src.instance.BackupServerInstance.params.engine">¶</a> (<em>Union</em><em>[</em><a class="reference internal" href="#src.abstract_engine.AbstractEngine" title="src.abstract_engine.AbstractEngine"><em>AbstractEngine</em></a><em>, </em><a class="reference internal" href="src.engines.html#src.engines.local.LocalEngine" title="src.engines.local.LocalEngine"><em>LocalEngine</em></a><em>]</em>) – The engine being used.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.instance.BackupServerInstance.shake_hands">
<span class="sig-name descname"><span class="pre">shake_hands</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#src.instance.BackupServerInstance.shake_hands" title="Permalink to this definition">¶</a></dt>
<dd><p>Shake hands with the backup server.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.instance.PrimaryServerInstance">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PrimaryServerInstance</span></span><a class="headerlink" href="#src.instance.PrimaryServerInstance" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The class for representing the primary server instance in the backup server.</p>
<dl class="py method">
<dt class="sig sig-object py" id="src.instance.PrimaryServerInstance.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">my_port</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.instance.PrimaryServerInstance.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>The constructor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="src.instance.PrimaryServerInstance.params.my_port"></span><strong>my_port</strong><a class="paramlink headerlink reference internal" href="#src.instance.PrimaryServerInstance.params.my_port">¶</a> (<em>int</em>) – The port for shaking hands with the primary server.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.instance.PrimaryServerInstance.is_healthy">
<span class="sig-name descname"><span class="pre">is_healthy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#src.instance.PrimaryServerInstance.is_healthy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if the primary server is healthy, i.e. HEALTH_UPDATE_LIMIT has not passed since last health update.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.instance.is_primary">
<span class="sig-name descname"><span class="pre">is_primary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.instance.Instance" title="src.instance.Instance"><span class="pre">Instance</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#src.instance.is_primary" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine whether the instance represented by <a class="reference internal" href="#src.instance.is_primary.params.instance" title="src.instance.is_primary"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">instance</span></code></a> is the primary server.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="src.instance.is_primary.params.instance"></span><strong>instance</strong><a class="paramlink headerlink reference internal" href="#src.instance.is_primary.params.instance">¶</a> (<a class="reference internal" href="#src.instance.Instance" title="src.instance.Instance"><em>Instance</em></a>) – The object representing the instance.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the instance represented by <a class="reference internal" href="#src.instance.is_primary.params.instance" title="src.instance.is_primary"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">instance</span></code></a> is the primary server and <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.instance.is_backup">
<span class="sig-name descname"><span class="pre">is_backup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.instance.Instance" title="src.instance.Instance"><span class="pre">Instance</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#src.instance.is_backup" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine whether the instance represented by <a class="reference internal" href="#src.instance.is_backup.params.instance" title="src.instance.is_backup"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">instance</span></code></a> is the backup server.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="src.instance.is_backup.params.instance"></span><strong>instance</strong><a class="paramlink headerlink reference internal" href="#src.instance.is_backup.params.instance">¶</a> (<a class="reference internal" href="#src.instance.Instance" title="src.instance.Instance"><em>Instance</em></a>) – The object representing the instance.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the instance represented by <a class="reference internal" href="#src.instance.is_backup.params.instance" title="src.instance.is_backup"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">instance</span></code></a> is the backup server and <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.instance.is_client">
<span class="sig-name descname"><span class="pre">is_client</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.instance.Instance" title="src.instance.Instance"><span class="pre">Instance</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#src.instance.is_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine whether the instance represented by <a class="reference internal" href="#src.instance.is_client.params.instance" title="src.instance.is_client"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">instance</span></code></a> is a client.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="src.instance.is_client.params.instance"></span><strong>instance</strong><a class="paramlink headerlink reference internal" href="#src.instance.is_client.params.instance">¶</a> (<a class="reference internal" href="#src.instance.Instance" title="src.instance.Instance"><em>Instance</em></a>) – The object representing the instance.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the instance represented by <a class="reference internal" href="#src.instance.is_client.params.instance" title="src.instance.is_client"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">instance</span></code></a> is a client and <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-src.run_backup">
<span id="src-run-backup-module"></span><h2>src.run_backup module<a class="headerlink" href="#module-src.run_backup" title="Permalink to this heading">¶</a></h2>
<p>The script for running the backup server on the backup server instance, which consists of:</p>
<ul class="simple">
<li><p>Deserializing the primary server object.</p></li>
<li><p>Transforming this object to represent the backup server by invoking the <a class="reference internal" href="#src.server.Server.assume_backup_role" title="src.server.Server.assume_backup_role"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">assume_backup_role</span></code></a> method.</p></li>
<li><p>Running the server by invoking the <a class="reference internal" href="#src.server.Server.run" title="src.server.Server.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">run</span></code></a> method.</p></li>
</ul>
<p>Note that this script is provided by the framework and is not to be supplied by the user.</p>
</section>
<section id="module-src.server">
<span id="src-server-module"></span><h2>src.server module<a class="headerlink" href="#module-src.server" title="Permalink to this heading">¶</a></h2>
<p>The class implementing the primary and the backup servers.</p>
<dl class="py class">
<dt class="sig sig-object py" id="src.server.Server">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Server</span></span><a class="headerlink" href="#src.server.Server" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Either the primary or the backup server.</p>
<dl class="py method">
<dt class="sig sig-object py" id="src.server.Server.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tasks</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#src.abstract_task.AbstractTask" title="src.abstract_task.AbstractTask"><span class="pre">AbstractTask</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="src.engines.html#src.engines.local.LocalEngine" title="src.engines.local.LocalEngine"><span class="pre">LocalEngine</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#src.abstract_engine.AbstractEngine" title="src.abstract_engine.AbstractEngine"><span class="pre">AbstractEngine</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backup</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_clients</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_cpus_per_client</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_group_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.server.Server.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>The constructor; only ever invoked for building the first primary server.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="src.server.Server.params.tasks"></span><strong>tasks</strong><a class="paramlink headerlink reference internal" href="#src.server.Server.params.tasks">¶</a> (<em>List</em><em>[</em><a class="reference internal" href="#src.abstract_task.AbstractTask" title="src.abstract_task.AbstractTask"><em>AbstractTask</em></a><em>]</em>) – The list of tasks to be executed.</p></li>
<li><p><span class="target" id="src.server.Server.params.engine"></span><strong>engine</strong><a class="paramlink headerlink reference internal" href="#src.server.Server.params.engine">¶</a> (<em>Union</em><em>[</em><a class="reference internal" href="src.engines.html#src.engines.local.LocalEngine" title="src.engines.local.LocalEngine"><em>LocalEngine</em></a><em>, </em><a class="reference internal" href="#src.abstract_engine.AbstractEngine" title="src.abstract_engine.AbstractEngine"><em>AbstractEngine</em></a><em>]</em>) – The compute engine settings.</p></li>
<li><p><span class="target" id="src.server.Server.params.backup"></span><strong>backup</strong><a class="paramlink headerlink reference internal" href="#src.server.Server.params.backup">¶</a> (<em>bool</em>) – Whether or not to use a backup server.</p></li>
<li><p><span class="target" id="src.server.Server.params.max_clients"></span><strong>max_clients</strong><a class="paramlink headerlink reference internal" href="#src.server.Server.params.max_clients">¶</a> (<em>int</em><em>, </em><em>optional</em>) – Maximal number of client instances or <code class="docutils literal notranslate"><span class="pre">None</span></code> for no restriction; defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><span class="target" id="src.server.Server.params.max_cpus_per_client"></span><strong>max_cpus_per_client</strong><a class="paramlink headerlink reference internal" href="#src.server.Server.params.max_cpus_per_client">¶</a> (<em>int</em><em>, </em><em>optional</em>) – The maximal number of workers to be used at a client instance or <code class="docutils literal notranslate"><span class="pre">None</span></code> for no restriction; defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><span class="target" id="src.server.Server.params.min_group_size"></span><strong>min_group_size</strong><a class="paramlink headerlink reference internal" href="#src.server.Server.params.min_group_size">¶</a> (<em>int</em><em>, </em><em>optional</em>) – minimal size of group as defined by the task’s <a class="reference internal" href="#src.abstract_task.AbstractTask.group_parameter_titles" title="src.abstract_task.AbstractTask.group_parameter_titles"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">group_parameter_titles</span></code></a> method, defaults to 0</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.server.Server.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#src.server.Server.run" title="Permalink to this definition">¶</a></dt>
<dd><p>The main loop.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.server.Server.tasks_remain">
<span class="sig-name descname"><span class="pre">tasks_remain</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#src.server.Server.tasks_remain" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether there are tasks remaining to be executed.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if there are tasks remaining to be executed and <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.server.Server.is_hard">
<span class="sig-name descname"><span class="pre">is_hard</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hardness</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#src.server.Server.is_hard" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether <a class="reference internal" href="#src.server.Server.is_hard.params.hardness" title="src.server.Server.is_hard"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">hardness</span></code></a> is greater or equal to hardness of one of the timed out tasks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="src.server.Server.is_hard.params.hardness"></span><strong>hardness</strong><a class="paramlink headerlink reference internal" href="#src.server.Server.is_hard.params.hardness">¶</a> (<em>tuple</em>) – The hardness to be checked.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if <cite>hardness</cite> is greater or equal to hardness of one of the timed out tasks and <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.server.Server.print_results">
<span class="sig-name descname"><span class="pre">print_results</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#src.server.Server.print_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Restore the original order of tasks and print results.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.server.Server.is_primary">
<span class="sig-name descname"><span class="pre">is_primary</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#src.server.Server.is_primary" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether the server is the primary server.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the server is the primary server and <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.server.Server.is_backup">
<span class="sig-name descname"><span class="pre">is_backup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#src.server.Server.is_backup" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether the server is the backup server.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the server is the backup server and <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.server.Server.assume_backup_role">
<span class="sig-name descname"><span class="pre">assume_backup_role</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#src.server.Server.assume_backup_role" title="Permalink to this definition">¶</a></dt>
<dd><p>Assume the backup server role.
This method is called after unpickling the primary server object, so as to convert it to a backup server one.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.server.Server.assume_primary_role">
<span class="sig-name descname"><span class="pre">assume_primary_role</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#src.server.Server.assume_primary_role" title="Permalink to this definition">¶</a></dt>
<dd><p>Assume the primary server role. This method is called at the backup server when primary server failure is detected.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.server.Server.handle_primary_server_failure">
<span class="sig-name descname"><span class="pre">handle_primary_server_failure</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#src.server.Server.handle_primary_server_failure" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle the primary server failure. This method is called at the backup server when primary server failure is detected. The handling consists of assuming the primary server role and sending the <a class="reference internal" href="#src.util.MessageType.SWAP_QUEUES" title="src.util.MessageType.SWAP_QUEUES"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">MessageType.SWAP_QUEUES</span></code></a> message to the clients.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.server.Server.init_handshake_q">
<span class="sig-name descname"><span class="pre">init_handshake_q</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#src.server.Server.init_handshake_q" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct the handshake manager and the queue for handshake requests from the backup server and the clients.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.server.Server.handshake_from_client">
<span class="sig-name descname"><span class="pre">handshake_from_client</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port_primary</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port_backup</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.server.Server.handshake_from_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle handshake request from a client. This method is invoked only at the primary server.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="src.server.Server.handshake_from_client.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#src.server.Server.handshake_from_client.params.name">¶</a> (<em>str</em>) – The name of the client instance.</p></li>
<li><p><span class="target" id="src.server.Server.handshake_from_client.params.port_primary"></span><strong>port_primary</strong><a class="paramlink headerlink reference internal" href="#src.server.Server.handshake_from_client.params.port_primary">¶</a> (<em>int</em>) – The client’s port for communication with the primary server.</p></li>
<li><p><span class="target" id="src.server.Server.handshake_from_client.params.port_backup"></span><strong>port_backup</strong><a class="paramlink headerlink reference internal" href="#src.server.Server.handshake_from_client.params.port_backup">¶</a> (<em>int</em>) – The client’s port for communication with the backup server.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.server.Server.handshake_from_backup">
<span class="sig-name descname"><span class="pre">handshake_from_backup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.server.Server.handshake_from_backup" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle handshake request from the backup server. This method is invoked only at the primary server.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="src.server.Server.handshake_from_backup.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#src.server.Server.handshake_from_backup.params.name">¶</a> (<em>str</em>) – The name of the backup server instance.</p></li>
<li><p><span class="target" id="src.server.Server.handshake_from_backup.params.port"></span><strong>port</strong><a class="paramlink headerlink reference internal" href="#src.server.Server.handshake_from_backup.params.port">¶</a> (<em>int</em>) – The backup server’s port for communication with the primary server.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.server.Server.accept_handshakes">
<span class="sig-name descname"><span class="pre">accept_handshakes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#src.server.Server.accept_handshakes" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle handshake requests from new backup server and client instances. Uses the methods <a class="reference internal" href="#src.server.Server.handshake_from_client" title="src.server.Server.handshake_from_client"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">handshake_from_client</span></code></a> and <a class="reference internal" href="#src.server.Server.handshake_from_backup" title="src.server.Server.handshake_from_backup"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">handshake_from_backup</span></code></a> to handle the respective kinds of requests. This method is invoked only at the primary server.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.server.Server.n_active_clients">
<span class="sig-name descname"><span class="pre">n_active_clients</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#src.server.Server.n_active_clients" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the number of currently active client instances. An instance is active if it has shaken hands with the server and has not been terminated since then.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The number of currently active client instances.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.server.Server.get_client">
<span class="sig-name descname"><span class="pre">get_client</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#src.instance.ClientInstance" title="src.instance.ClientInstance"><span class="pre">ClientInstance</span></a></span></span><a class="headerlink" href="#src.server.Server.get_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the object representing the client instance with the given name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="src.server.Server.get_client.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#src.server.Server.get_client.params.name">¶</a> (<em>str</em>) – The name of the client instance.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The object representing the client instance or <code class="docutils literal notranslate"><span class="pre">None</span></code> if there is no client instance with the given name.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#src.instance.ClientInstance" title="src.instance.ClientInstance">ClientInstance</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.server.Server.kill_client">
<span class="sig-name descname"><span class="pre">kill_client</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.server.Server.kill_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Terminate the client instance with the given name. If the name does not correspond to any client, do nothing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="src.server.Server.kill_client.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#src.server.Server.kill_client.params.name">¶</a> (<em>str</em>) – The name of the client instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.server.Server.kill_instance">
<span class="sig-name descname"><span class="pre">kill_instance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.instance.Instance" title="src.instance.Instance"><span class="pre">Instance</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.server.Server.kill_instance" title="Permalink to this definition">¶</a></dt>
<dd><p>Terminate the instance represented by <a class="reference internal" href="#src.server.Server.kill_instance.params.instance" title="src.server.Server.kill_instance"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">instance</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="src.server.Server.kill_instance.params.instance"></span><strong>instance</strong><a class="paramlink headerlink reference internal" href="#src.server.Server.kill_instance.params.instance">¶</a> – The object representing the instance to be terminated.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.server.Server.create_backup_server_instance">
<span class="sig-name descname"><span class="pre">create_backup_server_instance</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#src.server.Server.create_backup_server_instance" title="Permalink to this definition">¶</a></dt>
<dd><p>Create and run the backup server.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.server.Server.create_client_instance">
<span class="sig-name descname"><span class="pre">create_client_instance</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#src.server.Server.create_client_instance" title="Permalink to this definition">¶</a></dt>
<dd><p>Create and run a new client.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.server.Server.create_instance">
<span class="sig-name descname"><span class="pre">create_instance</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#src.server.Server.create_instance" title="Permalink to this definition">¶</a></dt>
<dd><p>Create and run the new instance. The backup server gets a precedence. If it already exists or is not used, then a new client is created.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.server.Server.kill_unhealthy_instances">
<span class="sig-name descname"><span class="pre">kill_unhealthy_instances</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#src.server.Server.kill_unhealthy_instances" title="Permalink to this definition">¶</a></dt>
<dd><p>Terminate unhealthy instances. See <a class="reference internal" href="#src.instance.Instance.is_healthy" title="src.instance.Instance.is_healthy"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">Instance.is_healthy</span></code></a> and <a class="reference internal" href="#src.instance.PrimaryServerInstance.is_healthy" title="src.instance.PrimaryServerInstance.is_healthy"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">PrimaryServerInstance.is_healthy</span></code></a> for the definition of a healthy instance.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.server.Server.stop_clients">
<span class="sig-name descname"><span class="pre">stop_clients</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#src.server.Server.stop_clients" title="Permalink to this definition">¶</a></dt>
<dd><p>Send the <a class="reference internal" href="#src.util.MessageType.STOP" title="src.util.MessageType.STOP"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">MessageType.STOP</span></code></a> message to all clients and record the timestamp of stopping the clients.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.server.Server.resume_clients">
<span class="sig-name descname"><span class="pre">resume_clients</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#src.server.Server.resume_clients" title="Permalink to this definition">¶</a></dt>
<dd><p>Send the <a class="reference internal" href="#src.util.MessageType.RESUME" title="src.util.MessageType.RESUME"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">MessageType.RESUME</span></code></a> message to all clients and reset the timestamp previously set by <a class="reference internal" href="#src.server.Server.stop_clients" title="src.server.Server.stop_clients"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">stop_clients</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.server.Server.send_health_update">
<span class="sig-name descname"><span class="pre">send_health_update</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#src.server.Server.send_health_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Send health update to the other server.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.server.Server.message_to_instance">
<span class="sig-name descname"><span class="pre">message_to_instance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.instance.Instance" title="src.instance.Instance"><span class="pre">Instance</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.util.MessageType" title="src.util.MessageType"><span class="pre">MessageType</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.server.Server.message_to_instance" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a message to an instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="src.server.Server.message_to_instance.params.instance"></span><strong>instance</strong><a class="paramlink headerlink reference internal" href="#src.server.Server.message_to_instance.params.instance">¶</a> (<a class="reference internal" href="#src.instance.Instance" title="src.instance.Instance"><em>Instance</em></a>) – The object representing the receiver instance.</p></li>
<li><p><span class="target" id="src.server.Server.message_to_instance.params.type"></span><strong>type</strong><a class="paramlink headerlink reference internal" href="#src.server.Server.message_to_instance.params.type">¶</a> (<a class="reference internal" href="#src.util.MessageType" title="src.util.MessageType"><em>MessageType</em></a>) – The message type.</p></li>
<li><p><span class="target" id="src.server.Server.message_to_instance.params.body"></span><strong>body</strong><a class="paramlink headerlink reference internal" href="#src.server.Server.message_to_instance.params.body">¶</a> (<em>Any</em>) – The body of the message.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.server.Server.messages_waiting">
<span class="sig-name descname"><span class="pre">messages_waiting</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.instance.Instance" title="src.instance.Instance"><span class="pre">Instance</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#src.server.Server.messages_waiting" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether a message from the given instance can be read.
If the instance is invalid or is not active, returns <code class="docutils literal notranslate"><span class="pre">False</span></code>.
If there is no message in the inbound queue from the given instance, returns <code class="docutils literal notranslate"><span class="pre">False</span></code>. Otherwise return <code class="docutils literal notranslate"><span class="pre">True</span></code>, unless the method is invoked at the backup server, the instance is a client and the corresponding message has not been forwarded by the primary server.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="src.server.Server.messages_waiting.params.instance"></span><strong>instance</strong><a class="paramlink headerlink reference internal" href="#src.server.Server.messages_waiting.params.instance">¶</a> (<a class="reference internal" href="#src.instance.Instance" title="src.instance.Instance"><em>Instance</em></a>) – The object representing the instance sending the message.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if a message from the given instance can be read and <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.server.Server.forward_message">
<span class="sig-name descname"><span class="pre">forward_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.instance.Instance" title="src.instance.Instance"><span class="pre">Instance</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">message_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.util.MessageType" title="src.util.MessageType"><span class="pre">MessageType</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.server.Server.forward_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Forward a message from a client to the backup server. This method is invoked only at the primary server.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="src.server.Server.forward_message.params.instance"></span><strong>instance</strong><a class="paramlink headerlink reference internal" href="#src.server.Server.forward_message.params.instance">¶</a> (<a class="reference internal" href="#src.instance.Instance" title="src.instance.Instance"><em>Instance</em></a>) – The object representing the sending instance.</p></li>
<li><p><span class="target" id="src.server.Server.forward_message.params.message_id"></span><strong>message_id</strong><a class="paramlink headerlink reference internal" href="#src.server.Server.forward_message.params.message_id">¶</a> (<em>int</em>) – The id of the message.</p></li>
<li><p><span class="target" id="src.server.Server.forward_message.params.type"></span><strong>type</strong><a class="paramlink headerlink reference internal" href="#src.server.Server.forward_message.params.type">¶</a> (<a class="reference internal" href="#src.util.MessageType" title="src.util.MessageType"><em>MessageType</em></a>) – The message type.</p></li>
<li><p><span class="target" id="src.server.Server.forward_message.params.body"></span><strong>body</strong><a class="paramlink headerlink reference internal" href="#src.server.Server.forward_message.params.body">¶</a> (<em>Any</em>) – The body of the message.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.server.Server.process_health_update">
<span class="sig-name descname"><span class="pre">process_health_update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.instance.Instance" title="src.instance.Instance"><span class="pre">Instance</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">_body</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.server.Server.process_health_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Record the timestamp of the <a class="reference internal" href="#src.util.MessageType.HEALTH_UPDATE" title="src.util.MessageType.HEALTH_UPDATE"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">MessageType.HEALTH_UPDATE</span></code></a> message sent by the given instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="src.server.Server.process_health_update.params.instance"></span><strong>instance</strong><a class="paramlink headerlink reference internal" href="#src.server.Server.process_health_update.params.instance">¶</a> (<a class="reference internal" href="#src.instance.Instance" title="src.instance.Instance"><em>Instance</em></a>) – The object representing the instance sending the message.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.server.Server.process_request_tasks">
<span class="sig-name descname"><span class="pre">process_request_tasks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">client</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.instance.ClientInstance" title="src.instance.ClientInstance"><span class="pre">ClientInstance</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.server.Server.process_request_tasks" title="Permalink to this definition">¶</a></dt>
<dd><p>Process the request for tasks sent by the given client. The method sends either the <a class="reference internal" href="#src.util.MessageType.GRANT_TASKS" title="src.util.MessageType.GRANT_TASKS"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">MessageType.GRANT_TASKS</span></code></a> message containing the tasks being granted to the client or the <a class="reference internal" href="#src.util.MessageType.NO_FURTHER_TASKS" title="src.util.MessageType.NO_FURTHER_TASKS"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">MessageType.NO_FURTHER_TASKS</span></code></a> message to indicate that there are no tasks to be assigned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="src.server.Server.process_request_tasks.params.client"></span><strong>client</strong><a class="paramlink headerlink reference internal" href="#src.server.Server.process_request_tasks.params.client">¶</a> (<a class="reference internal" href="#src.instance.ClientInstance" title="src.instance.ClientInstance"><em>ClientInstance</em></a>) – The object representing the client sending the request.</p></li>
<li><p><span class="target" id="src.server.Server.process_request_tasks.params.n"></span><strong>n</strong><a class="paramlink headerlink reference internal" href="#src.server.Server.process_request_tasks.params.n">¶</a> (<em>int</em>) – The number of tasks requested by the client.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.server.Server.process_log">
<span class="sig-name descname"><span class="pre">process_log</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">client</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.instance.ClientInstance" title="src.instance.ClientInstance"><span class="pre">ClientInstance</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">descr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.server.Server.process_log" title="Permalink to this definition">¶</a></dt>
<dd><p>Log the event related to a task execution by the given client.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="src.server.Server.process_log.params.client"></span><strong>client</strong><a class="paramlink headerlink reference internal" href="#src.server.Server.process_log.params.client">¶</a> (<a class="reference internal" href="#src.instance.ClientInstance" title="src.instance.ClientInstance"><em>ClientInstance</em></a>) – The object representing the client sending the event.</p></li>
<li><p><span class="target" id="src.server.Server.process_log.params.descr"></span><strong>descr</strong><a class="paramlink headerlink reference internal" href="#src.server.Server.process_log.params.descr">¶</a> (<em>str</em>) – The description of the event to be logged.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.server.Server.process_exception">
<span class="sig-name descname"><span class="pre">process_exception</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">client</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.instance.ClientInstance" title="src.instance.ClientInstance"><span class="pre">ClientInstance</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">descr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.server.Server.process_exception" title="Permalink to this definition">¶</a></dt>
<dd><p>Log the exception event sent by the given client.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="src.server.Server.process_exception.params.client"></span><strong>client</strong><a class="paramlink headerlink reference internal" href="#src.server.Server.process_exception.params.client">¶</a> (<a class="reference internal" href="#src.instance.ClientInstance" title="src.instance.ClientInstance"><em>ClientInstance</em></a>) – The object representing the client sending the event.</p></li>
<li><p><span class="target" id="src.server.Server.process_exception.params.descr"></span><strong>descr</strong><a class="paramlink headerlink reference internal" href="#src.server.Server.process_exception.params.descr">¶</a> (<em>str</em>) – The description of the event to be logged.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.server.Server.process_result">
<span class="sig-name descname"><span class="pre">process_result</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">client</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.instance.ClientInstance" title="src.instance.ClientInstance"><span class="pre">ClientInstance</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.server.Server.process_result" title="Permalink to this definition">¶</a></dt>
<dd><p>Process the result of executing a task sent by the given client.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="src.server.Server.process_result.params.client"></span><strong>client</strong><a class="paramlink headerlink reference internal" href="#src.server.Server.process_result.params.client">¶</a> (<a class="reference internal" href="#src.instance.ClientInstance" title="src.instance.ClientInstance"><em>ClientInstance</em></a>) – The object representing the client sending the result.</p></li>
<li><p><span class="target" id="src.server.Server.process_result.params.body"></span><strong>body</strong><a class="paramlink headerlink reference internal" href="#src.server.Server.process_result.params.body">¶</a> (<em>tuple</em>) – The tuple consisting of the task id and the result.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.server.Server.process_report_hard_task">
<span class="sig-name descname"><span class="pre">process_report_hard_task</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_client</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.server.Server.process_report_hard_task" title="Permalink to this definition">¶</a></dt>
<dd><p>If the task specified by <a class="reference internal" href="#src.server.Server.process_report_hard_task.params.task_id" title="src.server.Server.process_report_hard_task"><code class="xref py py-paramref docutils literal notranslate"><span class="pre">task_id</span></code></a> is minimally hard, then:</p>
<ol class="arabic simple">
<li><p>Add the task to <code class="docutils literal notranslate"><span class="pre">self.min_hard</span></code>.</p></li>
<li><p>Send the <a class="reference internal" href="#src.util.MessageType.APPLY_DOMINO_EFFECT" title="src.util.MessageType.APPLY_DOMINO_EFFECT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">MessageType.APPLY_DOMINO_EFFECT</span></code></a> message to all clients, so they can terminate any task that is as hard or harder than this task.</p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="src.server.Server.process_report_hard_task.params.task_id"></span><strong>task_id</strong><a class="paramlink headerlink reference internal" href="#src.server.Server.process_report_hard_task.params.task_id">¶</a> – The id of the task that timed out.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.server.Server.process_bye">
<span class="sig-name descname"><span class="pre">process_bye</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">client</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.instance.ClientInstance" title="src.instance.ClientInstance"><span class="pre">ClientInstance</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">_body</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.server.Server.process_bye" title="Permalink to this definition">¶</a></dt>
<dd><p>Process the <a class="reference internal" href="#src.util.MessageType.BYE" title="src.util.MessageType.BYE"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">MessageType.BYE</span></code></a> message sent by the given client by terminating the corresponding client instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="src.server.Server.process_bye.params.client"></span><strong>client</strong><a class="paramlink headerlink reference internal" href="#src.server.Server.process_bye.params.client">¶</a> (<a class="reference internal" href="#src.instance.ClientInstance" title="src.instance.ClientInstance"><em>ClientInstance</em></a>) – The object representing the client sending the message.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.server.Server.process_new_client">
<span class="sig-name descname"><span class="pre">process_new_client</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_instance</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.server.Server.process_new_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a client object corresponding to the client that shook hands with the primary server and about which the primary server sent the <a class="reference internal" href="#src.util.MessageType.NEW_CLIENT" title="src.util.MessageType.NEW_CLIENT"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">MessageType.NEW_CLIENT</span></code></a> message. After constructing the object, invoke its <a class="reference internal" href="#src.instance.ClientInstance.shake_hands" title="src.instance.ClientInstance.shake_hands"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">shake_hands</span></code></a> method. The <a class="reference internal" href="#src.server.Server.process_new_client" title="src.server.Server.process_new_client"><code class="xref py py-meth docutils literal notranslate"><span class="pre">process_new_client</span></code></a> method is only invoked at the backup server.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="src.server.Server.process_new_client.params.body"></span><strong>body</strong><a class="paramlink headerlink reference internal" href="#src.server.Server.process_new_client.params.body">¶</a> (<em>tuple</em>) – The information about the new client instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.server.Server.process_client_terminated">
<span class="sig-name descname"><span class="pre">process_client_terminated</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_instance</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">client_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.server.Server.process_client_terminated" title="Permalink to this definition">¶</a></dt>
<dd><p>Process client failure reported by the primary server. This method is only invoked at the backup server.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="src.server.Server.process_client_terminated.params.client_name"></span><strong>client_name</strong><a class="paramlink headerlink reference internal" href="#src.server.Server.process_client_terminated.params.client_name">¶</a> (<em>str</em>) – The name of the terminated client.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.server.Server.process_message">
<span class="sig-name descname"><span class="pre">process_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.instance.Instance" title="src.instance.Instance"><span class="pre">Instance</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.util.MessageType" title="src.util.MessageType"><span class="pre">MessageType</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.server.Server.process_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Process a message from clients and the other server.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="src.server.Server.process_message.params.instance"></span><strong>instance</strong><a class="paramlink headerlink reference internal" href="#src.server.Server.process_message.params.instance">¶</a> (<a class="reference internal" href="#src.instance.Instance" title="src.instance.Instance"><em>Instance</em></a>) – The object representing the sending instance.</p></li>
<li><p><span class="target" id="src.server.Server.process_message.params.type"></span><strong>type</strong><a class="paramlink headerlink reference internal" href="#src.server.Server.process_message.params.type">¶</a> (<a class="reference internal" href="#src.util.MessageType" title="src.util.MessageType"><em>MessageType</em></a>) – The type of the message.</p></li>
<li><p><span class="target" id="src.server.Server.process_message.params.body"></span><strong>body</strong><a class="paramlink headerlink reference internal" href="#src.server.Server.process_message.params.body">¶</a> (<em>Any</em>) – The body of the message.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.server.Server.handle_messages">
<span class="sig-name descname"><span class="pre">handle_messages</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#src.server.Server.handle_messages" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle messages from clients and the other server.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-src.util">
<span id="src-util-module"></span><h2>src.util module<a class="headerlink" href="#module-src.util" title="Permalink to this heading">¶</a></h2>
<p>Utility enums and functions.</p>
<dl class="py function">
<dt class="sig sig-object py" id="src.util.short_timestamp">
<span class="sig-name descname"><span class="pre">short_timestamp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timestamp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#src.util.short_timestamp" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate short string representation of the given timestamp.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="src.util.short_timestamp.params.timestamp"></span><strong>timestamp</strong><a class="paramlink headerlink reference internal" href="#src.util.short_timestamp.params.timestamp">¶</a> (<em>float</em>) – The timestamp to render.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The short string representation of the given timestamp.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.util.short_now_str">
<span class="sig-name descname"><span class="pre">short_now_str</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#src.util.short_now_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate short string representation of the current timestamp.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The short string representation of the current timestamp.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.util.my_print">
<span class="sig-name descname"><span class="pre">my_print</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cond</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">err_flag</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.util.my_print" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the given string if the given condition is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="src.util.my_print.params.cond"></span><strong>cond</strong><a class="paramlink headerlink reference internal" href="#src.util.my_print.params.cond">¶</a> (<em>bool</em>) – The condition to be checked.</p></li>
<li><p><span class="target" id="src.util.my_print.params.str"></span><strong>str</strong><a class="paramlink headerlink reference internal" href="#src.util.my_print.params.str">¶</a> (<em>str</em>) – The string to be printed.</p></li>
<li><p><span class="target" id="src.util.my_print.params.err_flag"></span><strong>err_flag</strong><a class="paramlink headerlink reference internal" href="#src.util.my_print.params.err_flag">¶</a> (<em>bool</em><em>, </em><em>optional</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> to print to <code class="docutils literal notranslate"><span class="pre">stderr</span></code> and <code class="docutils literal notranslate"><span class="pre">False</span></code> to print to <code class="docutils literal notranslate"><span class="pre">stdout</span></code>; defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.util.my_eprint">
<span class="sig-name descname"><span class="pre">my_eprint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cond</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.util.my_eprint" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the given string to <code class="docutils literal notranslate"><span class="pre">stderr</span></code> if the given condition is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="src.util.my_eprint.params.cond"></span><strong>cond</strong><a class="paramlink headerlink reference internal" href="#src.util.my_eprint.params.cond">¶</a> (<em>bool</em>) – The condition to be checked.</p></li>
<li><p><span class="target" id="src.util.my_eprint.params.str"></span><strong>str</strong><a class="paramlink headerlink reference internal" href="#src.util.my_eprint.params.str">¶</a> (<em>str</em>) – The string to be printed.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.util.command_arg_ip">
<span class="sig-name descname"><span class="pre">command_arg_ip</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#src.util.command_arg_ip" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the command line argument representing the ip of the primary server.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The command line argument representing the ip of the primary server.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.util.command_arg_port">
<span class="sig-name descname"><span class="pre">command_arg_port</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#src.util.command_arg_port" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the command line argument representing the port for communicating with the primary server.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The command line argument representing the port for communicating with the primary server.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.util.command_arg_name">
<span class="sig-name descname"><span class="pre">command_arg_name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#src.util.command_arg_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the command line argument representing the name of the current instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The command line argument representing the name of the current instance.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.util.command_arg_max_cpus">
<span class="sig-name descname"><span class="pre">command_arg_max_cpus</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#src.util.command_arg_max_cpus" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the command line argument representing the maximal number of workers that the current client instance is allowed to use. If it is <code class="docutils literal notranslate"><span class="pre">None</span></code>, return a large positive integer value standing for infinity.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The maximal number of workers that the current client instance is allowed to use.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.util.InstanceRole">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">InstanceRole</span></span><a class="headerlink" href="#src.util.InstanceRole" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></p>
<p>The role of instance.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.util.InstanceRole.PRIMARY_SERVER">
<span class="sig-name descname"><span class="pre">PRIMARY_SERVER</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'PRIMARY_SERVER'</span></em><a class="headerlink" href="#src.util.InstanceRole.PRIMARY_SERVER" title="Permalink to this definition">¶</a></dt>
<dd><p>The primary server instance.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.util.InstanceRole.BACKUP_SERVER">
<span class="sig-name descname"><span class="pre">BACKUP_SERVER</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'BACKUP_SERVER'</span></em><a class="headerlink" href="#src.util.InstanceRole.BACKUP_SERVER" title="Permalink to this definition">¶</a></dt>
<dd><p>The backup server instance.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.util.InstanceRole.CLIENT">
<span class="sig-name descname"><span class="pre">CLIENT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'CLIENT'</span></em><a class="headerlink" href="#src.util.InstanceRole.CLIENT" title="Permalink to this definition">¶</a></dt>
<dd><p>A client instance.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="src.util.MessageType">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MessageType</span></span><a class="headerlink" href="#src.util.MessageType" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></p>
<p>Type of a message sent to another instance.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.util.MessageType.HEALTH_UPDATE">
<span class="sig-name descname"><span class="pre">HEALTH_UPDATE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'HEALTH_UPDATE'</span></em><a class="headerlink" href="#src.util.MessageType.HEALTH_UPDATE" title="Permalink to this definition">¶</a></dt>
<dd><p>Informs the receiver that the sending instance is healthy.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.util.MessageType.REQUEST_TASKS">
<span class="sig-name descname"><span class="pre">REQUEST_TASKS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'REQUEST_TASKS'</span></em><a class="headerlink" href="#src.util.MessageType.REQUEST_TASKS" title="Permalink to this definition">¶</a></dt>
<dd><p>A client sends this message to the servers to request tasks for execution.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.util.MessageType.RESULT">
<span class="sig-name descname"><span class="pre">RESULT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'RESULT'</span></em><a class="headerlink" href="#src.util.MessageType.RESULT" title="Permalink to this definition">¶</a></dt>
<dd><p>A client sends this message to the servers to report on a completed task.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.util.MessageType.REPORT_HARD_TASK">
<span class="sig-name descname"><span class="pre">REPORT_HARD_TASK</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'REPORT_HARD_TASK'</span></em><a class="headerlink" href="#src.util.MessageType.REPORT_HARD_TASK" title="Permalink to this definition">¶</a></dt>
<dd><p>A client sends this message to the servers to report on a timed out task.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.util.MessageType.LOG">
<span class="sig-name descname"><span class="pre">LOG</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'LOG'</span></em><a class="headerlink" href="#src.util.MessageType.LOG" title="Permalink to this definition">¶</a></dt>
<dd><p>A client sends this message to the servers to report an even related to task execution.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.util.MessageType.EXCEPTION">
<span class="sig-name descname"><span class="pre">EXCEPTION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'EXCEPTION'</span></em><a class="headerlink" href="#src.util.MessageType.EXCEPTION" title="Permalink to this definition">¶</a></dt>
<dd><p>A client sends this message to the servers to report an exception event.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.util.MessageType.BYE">
<span class="sig-name descname"><span class="pre">BYE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'BYE'</span></em><a class="headerlink" href="#src.util.MessageType.BYE" title="Permalink to this definition">¶</a></dt>
<dd><p>A client sends this message to the servers to report that the client script is about to terminate.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.util.MessageType.NEW_CLIENT">
<span class="sig-name descname"><span class="pre">NEW_CLIENT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'NEW_CLIENT'</span></em><a class="headerlink" href="#src.util.MessageType.NEW_CLIENT" title="Permalink to this definition">¶</a></dt>
<dd><p>The primary server sends this message to the backup server to report that a new client has shaken hands with the primary server.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.util.MessageType.CLIENT_TERMINATED">
<span class="sig-name descname"><span class="pre">CLIENT_TERMINATED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'CLIENT_TERMINATED'</span></em><a class="headerlink" href="#src.util.MessageType.CLIENT_TERMINATED" title="Permalink to this definition">¶</a></dt>
<dd><p>The primary server sends this message to the backup server to report that a a client has been terminated.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.util.MessageType.MESSAGE_FROM_CLIENT">
<span class="sig-name descname"><span class="pre">MESSAGE_FROM_CLIENT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'MESSAGE_FROM_CLIENT'</span></em><a class="headerlink" href="#src.util.MessageType.MESSAGE_FROM_CLIENT" title="Permalink to this definition">¶</a></dt>
<dd><p>The primary server sends this message to forward to the backup server a message sent by a client.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.util.MessageType.GRANT_TASKS">
<span class="sig-name descname"><span class="pre">GRANT_TASKS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'GRANT_TASKS'</span></em><a class="headerlink" href="#src.util.MessageType.GRANT_TASKS" title="Permalink to this definition">¶</a></dt>
<dd><p>A server sends this message to a client to assign to the latter tasks for execution.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.util.MessageType.APPLY_DOMINO_EFFECT">
<span class="sig-name descname"><span class="pre">APPLY_DOMINO_EFFECT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'APPLY_DOMINO_EFFECT'</span></em><a class="headerlink" href="#src.util.MessageType.APPLY_DOMINO_EFFECT" title="Permalink to this definition">¶</a></dt>
<dd><p>A server sends this message to a client to inform the latter of a task that timed out at another client.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.util.MessageType.NO_FURTHER_TASKS">
<span class="sig-name descname"><span class="pre">NO_FURTHER_TASKS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'NO_FURTHER_TASKS'</span></em><a class="headerlink" href="#src.util.MessageType.NO_FURTHER_TASKS" title="Permalink to this definition">¶</a></dt>
<dd><p>A server sends this message to a client, in response to requesting tasks for execution, to inform the client that there are no more tasks to be assigned.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.util.MessageType.STOP">
<span class="sig-name descname"><span class="pre">STOP</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'STOP'</span></em><a class="headerlink" href="#src.util.MessageType.STOP" title="Permalink to this definition">¶</a></dt>
<dd><p>A server sends this message to a client to inform the latter that it should not send to the servers any messages aside from health updates.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.util.MessageType.RESUME">
<span class="sig-name descname"><span class="pre">RESUME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'RESUME'</span></em><a class="headerlink" href="#src.util.MessageType.RESUME" title="Permalink to this definition">¶</a></dt>
<dd><p>A server sends this message to a client to inform the latter that it may resume sending messages to the servers, thereby cancelling the effect of the previous <code class="docutils literal notranslate"><span class="pre">STOP</span></code> message.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.util.MessageType.SWAP_QUEUES">
<span class="sig-name descname"><span class="pre">SWAP_QUEUES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'SWAP_QUEUES'</span></em><a class="headerlink" href="#src.util.MessageType.SWAP_QUEUES" title="Permalink to this definition">¶</a></dt>
<dd><p>The primary server sends this message to a client to inform the latter that it should swap the queues for communicating with the primary and the backup server. This happens when the backup server assumes the primary server role following the failure of the former primary server.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.util.MessageType.WORKER_STARTED">
<span class="sig-name descname"><span class="pre">WORKER_STARTED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'STARTED'</span></em><a class="headerlink" href="#src.util.MessageType.WORKER_STARTED" title="Permalink to this definition">¶</a></dt>
<dd><p>A worker sends this message to its owning client to inform the latter that the worker has started executing the task.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.util.MessageType.WORKER_DONE">
<span class="sig-name descname"><span class="pre">WORKER_DONE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'DONE'</span></em><a class="headerlink" href="#src.util.MessageType.WORKER_DONE" title="Permalink to this definition">¶</a></dt>
<dd><p>A worker sends this message to its owning client to inform the latter that the worker has completed executing the task.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.util.get_unused_port">
<span class="sig-name descname"><span class="pre">get_unused_port</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#src.util.get_unused_port" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a yet unused port number.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>An unused port number.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.util.extended_prefix">
<span class="sig-name descname"><span class="pre">extended_prefix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">role</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.util.InstanceRole" title="src.util.InstanceRole"><span class="pre">InstanceRole</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#src.util.extended_prefix" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the prefix for the name for the next cloud instance based on the role.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="src.util.extended_prefix.params.role"></span><strong>role</strong><a class="paramlink headerlink reference internal" href="#src.util.extended_prefix.params.role">¶</a> (<a class="reference internal" href="#src.util.InstanceRole" title="src.util.InstanceRole"><em>InstanceRole</em></a>) – The role of the new instance.</p></li>
<li><p><span class="target" id="src.util.extended_prefix.params.prefix"></span><strong>prefix</strong><a class="paramlink headerlink reference internal" href="#src.util.extended_prefix.params.prefix">¶</a> (<em>str</em>) – The prefix to be used in the name.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The prefix for the name for the next cloud instance based on the role.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.util.next_instance_name">
<span class="sig-name descname"><span class="pre">next_instance_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">role</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.util.InstanceRole" title="src.util.InstanceRole"><span class="pre">InstanceRole</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">instance_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#src.util.next_instance_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate the name for the next cloud instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="src.util.next_instance_name.params.role"></span><strong>role</strong><a class="paramlink headerlink reference internal" href="#src.util.next_instance_name.params.role">¶</a> (<a class="reference internal" href="#src.util.InstanceRole" title="src.util.InstanceRole"><em>InstanceRole</em></a>) – The role of the new instance.</p></li>
<li><p><span class="target" id="src.util.next_instance_name.params.prefix"></span><strong>prefix</strong><a class="paramlink headerlink reference internal" href="#src.util.next_instance_name.params.prefix">¶</a> (<em>str</em>) – The prefix to be used in the name.</p></li>
<li><p><span class="target" id="src.util.next_instance_name.params.instance_id"></span><strong>instance_id</strong><a class="paramlink headerlink reference internal" href="#src.util.next_instance_name.params.instance_id">¶</a> (<em>dict</em>) – The dictionary that, maps the role to the id for the next instance.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The name for the next cloud instance.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.util.get_guest_qs">
<span class="sig-name descname"><span class="pre">get_guest_qs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ip</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">queue.Queue</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#src.util.get_guest_qs" title="Permalink to this definition">¶</a></dt>
<dd><p>Get queues owned by another instance, which we call here <em>guest</em>. The caller should handle the exceptions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="src.util.get_guest_qs.params.ip"></span><strong>ip</strong><a class="paramlink headerlink reference internal" href="#src.util.get_guest_qs.params.ip">¶</a> (<em>str</em>) – The IP address of the guest instance.</p></li>
<li><p><span class="target" id="src.util.get_guest_qs.params.port"></span><strong>port</strong><a class="paramlink headerlink reference internal" href="#src.util.get_guest_qs.params.port">¶</a> (<em>int</em>) – The port for connecting to the guest instance.</p></li>
<li><p><span class="target" id="src.util.get_guest_qs.params.q_names"></span><strong>q_names</strong><a class="paramlink headerlink reference internal" href="#src.util.get_guest_qs.params.q_names">¶</a> (<em>List</em><em>[</em><em>str</em><em>]</em>) – The names of the queues to be obtained.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The requested queues owned by the guest instance.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple[queue.Queue]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.util.make_manager">
<span class="sig-name descname"><span class="pre">make_manager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">SyncManager</span></span></span><a class="headerlink" href="#src.util.make_manager" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a manager with the queues with the specified names.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="src.util.make_manager.params.port"></span><strong>port</strong><a class="paramlink headerlink reference internal" href="#src.util.make_manager.params.port">¶</a> (<em>int</em>) – The port at which to accept connections to the new queues.</p></li>
<li><p><span class="target" id="src.util.make_manager.params.q_names"></span><strong>q_names</strong><a class="paramlink headerlink reference internal" href="#src.util.make_manager.params.q_names">¶</a> (<em>List</em><em>[</em><em>str</em><em>]</em>) – The names of the queues to be constructed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The newly created manager.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>SyncManager</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.util.handshake">
<span class="sig-name descname"><span class="pre">handshake</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">my_role</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#src.util.InstanceRole" title="src.util.InstanceRole"><span class="pre">InstanceRole</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">my_port1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">my_port2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.util.handshake" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform handshake with the primary server.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="src.util.handshake.params.my_role"></span><strong>my_role</strong><a class="paramlink headerlink reference internal" href="#src.util.handshake.params.my_role">¶</a> (<a class="reference internal" href="#src.util.InstanceRole" title="src.util.InstanceRole"><em>InstanceRole</em></a>) – The role of the current instance.</p></li>
<li><p><span class="target" id="src.util.handshake.params.my_port1"></span><strong>my_port1</strong><a class="paramlink headerlink reference internal" href="#src.util.handshake.params.my_port1">¶</a> (<em>int</em>) – The port at which messages from the primary server will be received.</p></li>
<li><p><span class="target" id="src.util.handshake.params.my_port2"></span><strong>my_port2</strong><a class="paramlink headerlink reference internal" href="#src.util.handshake.params.my_port2">¶</a> (<em>int</em><em>, </em><em>optional</em>) – The port at which messages from the backup server will be received. This argument will be <code class="docutils literal notranslate"><span class="pre">None</span></code> when invoked at the backup server; defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.util.handle_exception">
<span class="sig-name descname"><span class="pre">handle_exception</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">e</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Exception</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exit_flag</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_primary_q</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Queue</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.util.handle_exception" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the custom error message and the exception, optionally send an exception event to the primary server, and, again optionally, exit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="src.util.handle_exception.params.e"></span><strong>e</strong><a class="paramlink headerlink reference internal" href="#src.util.handle_exception.params.e">¶</a> (<em>Exception</em>) – The exception.</p></li>
<li><p><span class="target" id="src.util.handle_exception.params.msg"></span><strong>msg</strong><a class="paramlink headerlink reference internal" href="#src.util.handle_exception.params.msg">¶</a> (<em>str</em>) – The custom error message.</p></li>
<li><p><span class="target" id="src.util.handle_exception.params.exit_flag"></span><strong>exit_flag</strong><a class="paramlink headerlink reference internal" href="#src.util.handle_exception.params.exit_flag">¶</a> (<em>bool</em><em>, </em><em>optional</em>) – Whether the script should terminate; defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><span class="target" id="src.util.handle_exception.params.to_primary_q"></span><strong>to_primary_q</strong><a class="paramlink headerlink reference internal" href="#src.util.handle_exception.params.to_primary_q">¶</a> (<em>queue.Queue</em><em>, </em><em>optional</em>) – The queue for communication with the primary server or <code class="docutils literal notranslate"><span class="pre">None</span></code>; defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.util.get_project_root">
<span class="sig-name descname"><span class="pre">get_project_root</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Path</span></span></span><a class="headerlink" href="#src.util.get_project_root" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the root folder of ExpoCloud.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The root folder of ExpoCloud.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Path</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.util.my_name">
<span class="sig-name descname"><span class="pre">my_name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#src.util.my_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the name of the current instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The name of the current instance.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.util.my_ip">
<span class="sig-name descname"><span class="pre">my_ip</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#src.util.my_ip" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the IP address of the current instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The IP address of the current instance.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.util.output_folder">
<span class="sig-name descname"><span class="pre">output_folder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#src.util.output_folder" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the output folder for the given instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="src.util.output_folder.params.instance_name"></span><strong>instance_name</strong><a class="paramlink headerlink reference internal" href="#src.util.output_folder.params.instance_name">¶</a> (<em>str</em><em>, </em><em>optional</em>) – The name of the instance or <code class="docutils literal notranslate"><span class="pre">None</span></code> for the current instance; defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The output folder for the given instance.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.util.pickled_file_name">
<span class="sig-name descname"><span class="pre">pickled_file_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#src.util.pickled_file_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the path including the file name for the pickled server object to be located at the given path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="src.util.pickled_file_name.params.path"></span><strong>path</strong><a class="paramlink headerlink reference internal" href="#src.util.pickled_file_name.params.path">¶</a> (<em>str</em>) – The path at which the pickled server object is to be located.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The path including the file name for the pickled server object.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.util.ssh_command">
<span class="sig-name descname"><span class="pre">ssh_command</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ip</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">command</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#src.util.ssh_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct the shell command for executing the given command remotely using ssh.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="src.util.ssh_command.params.ip"></span><strong>ip</strong><a class="paramlink headerlink reference internal" href="#src.util.ssh_command.params.ip">¶</a> (<em>str</em>) – The IP address of the instance at which the command is to be executed.</p></li>
<li><p><span class="target" id="src.util.ssh_command.params.command"></span><strong>command</strong><a class="paramlink headerlink reference internal" href="#src.util.ssh_command.params.command">¶</a> (<em>str</em>) – The command to be executed remotely.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The shell command for executing the given command remotely using ssh.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.util.scp_command">
<span class="sig-name descname"><span class="pre">scp_command</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ip</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_folder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dest_folder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#src.util.scp_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct the shell command for copying the given local folder to the given remote folder.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="src.util.scp_command.params.ip"></span><strong>ip</strong><a class="paramlink headerlink reference internal" href="#src.util.scp_command.params.ip">¶</a> (<em>str</em>) – The IP address of the destination instance.</p></li>
<li><p><span class="target" id="src.util.scp_command.params.source_folder"></span><strong>source_folder</strong><a class="paramlink headerlink reference internal" href="#src.util.scp_command.params.source_folder">¶</a> (<em>str</em>) – The local folder.</p></li>
<li><p><span class="target" id="src.util.scp_command.params.dest_folder"></span><strong>dest_folder</strong><a class="paramlink headerlink reference internal" href="#src.util.scp_command.params.dest_folder">¶</a> (<em>str</em>) – The destination folder.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The shell command for copying the given local folder to the given remote folder.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.util.attempt_command">
<span class="sig-name descname"><span class="pre">attempt_command</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">command</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_attempts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#src.util.attempt_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the given number of attempts at executing the given shell command. As soon as an attempt succeeds (i.e. no exception is thrown), return 0. If no attempt succeeds, return <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="src.util.attempt_command.params.command"></span><strong>command</strong><a class="paramlink headerlink reference internal" href="#src.util.attempt_command.params.command">¶</a> (<em>str</em>) – The shell command to be executed.</p></li>
<li><p><span class="target" id="src.util.attempt_command.params.n_attempts"></span><strong>n_attempts</strong><a class="paramlink headerlink reference internal" href="#src.util.attempt_command.params.n_attempts">¶</a> (<em>int</em><em>, </em><em>optional</em>) – The number of attempts, defaults to 3.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The status, either 0 or <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Union[int, None]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.util.remote_execute">
<span class="sig-name descname"><span class="pre">remote_execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ip</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">command</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#src.util.remote_execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Remotely execute the given command. Uses <a class="reference internal" href="#src.util.attempt_command" title="src.util.attempt_command"><code class="xref any py py-func docutils literal notranslate"><span class="pre">attempt_command</span></code></a> to make several attempts.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="src.util.remote_execute.params.ip"></span><strong>ip</strong><a class="paramlink headerlink reference internal" href="#src.util.remote_execute.params.ip">¶</a> (<em>str</em>) – The IP address of the instance at which the command is to be executed.</p></li>
<li><p><span class="target" id="src.util.remote_execute.params.command"></span><strong>command</strong><a class="paramlink headerlink reference internal" href="#src.util.remote_execute.params.command">¶</a> (<em>str</em>) – The command to be executed remotely.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The value returned by <a class="reference internal" href="#src.util.attempt_command" title="src.util.attempt_command"><code class="xref any py py-func docutils literal notranslate"><span class="pre">attempt_command</span></code></a>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Union[int, None]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.util.remote_replace">
<span class="sig-name descname"><span class="pre">remote_replace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ip</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_folder</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dest_folder</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#src.util.remote_replace" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy the given local folder to the given remote folder. Uses <a class="reference internal" href="#src.util.attempt_command" title="src.util.attempt_command"><code class="xref any py py-func docutils literal notranslate"><span class="pre">attempt_command</span></code></a> to make several attempts.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="src.util.remote_replace.params.ip"></span><strong>ip</strong><a class="paramlink headerlink reference internal" href="#src.util.remote_replace.params.ip">¶</a> (<em>str</em>) – The IP address of the destination instance.</p></li>
<li><p><span class="target" id="src.util.remote_replace.params.source_folder"></span><strong>source_folder</strong><a class="paramlink headerlink reference internal" href="#src.util.remote_replace.params.source_folder">¶</a> (<em>str</em>) – The local folder.</p></li>
<li><p><span class="target" id="src.util.remote_replace.params.dest_folder"></span><strong>dest_folder</strong><a class="paramlink headerlink reference internal" href="#src.util.remote_replace.params.dest_folder">¶</a> (<em>str</em>) – The destination folder.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The value returned by <a class="reference internal" href="#src.util.attempt_command" title="src.util.attempt_command"><code class="xref any py py-func docutils literal notranslate"><span class="pre">attempt_command</span></code></a>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Union[int, None]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.util.filter_indices">
<span class="sig-name descname"><span class="pre">filter_indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cond</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span></span></span><a class="headerlink" href="#src.util.filter_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter elements of the given list, so only indices satisfying the given predicate remain.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="src.util.filter_indices.params.arr"></span><strong>arr</strong><a class="paramlink headerlink reference internal" href="#src.util.filter_indices.params.arr">¶</a> (<em>list</em>) – The list to be filtered.</p></li>
<li><p><span class="target" id="src.util.filter_indices.params.cond"></span><strong>cond</strong><a class="paramlink headerlink reference internal" href="#src.util.filter_indices.params.cond">¶</a> (<em>Callable</em>) – The callable taking a list element and returning a Boolean indicating whether the element should be present in the filtered list.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The filtered list.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.util.list2str">
<span class="sig-name descname"><span class="pre">list2str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">assignment</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">';'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#src.util.list2str" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert list to string using the given separator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="src.util.list2str.params.assignment"></span><strong>assignment</strong><a class="paramlink headerlink reference internal" href="#src.util.list2str.params.assignment">¶</a> (<em>list</em>) – The list to be converted.</p></li>
<li><p><span class="target" id="src.util.list2str.params.sep"></span><strong>sep</strong><a class="paramlink headerlink reference internal" href="#src.util.list2str.params.sep">¶</a> (<em>str</em><em>, </em><em>optional</em>) – The separator, defaults to <code class="docutils literal notranslate"><span class="pre">';'</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The string representation of the list.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.util.set2str">
<span class="sig-name descname"><span class="pre">set2str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">set</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">';'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#src.util.set2str" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert list to string using the given separator. The elements are sorted.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="src.util.set2str.params.s"></span><strong>s</strong><a class="paramlink headerlink reference internal" href="#src.util.set2str.params.s">¶</a> (<em>set</em>) – The set to be converted.</p></li>
<li><p><span class="target" id="src.util.set2str.params.sep"></span><strong>sep</strong><a class="paramlink headerlink reference internal" href="#src.util.set2str.params.sep">¶</a> (<em>str</em><em>, </em><em>optional</em>) – The separator, defaults to <code class="docutils literal notranslate"><span class="pre">';'</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The string representation of the set.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.util.all_lt">
<span class="sig-name descname"><span class="pre">all_lt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#src.util.all_lt" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">t1</span></code> and <code class="docutils literal notranslate"><span class="pre">t2</span></code> are of same length and all elements of <code class="docutils literal notranslate"><span class="pre">t1</span></code> are strictly smaller than the corresponding elements of <code class="docutils literal notranslate"><span class="pre">t2</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="src.util.all_lt.params.t1"></span><strong>t1</strong><a class="paramlink headerlink reference internal" href="#src.util.all_lt.params.t1">¶</a> (<em>tuple</em>) – The first tuple being compared.</p></li>
<li><p><span class="target" id="src.util.all_lt.params.t2"></span><strong>t2</strong><a class="paramlink headerlink reference internal" href="#src.util.all_lt.params.t2">¶</a> (<em>tuple</em>) – The second tuple being compared.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">t1</span></code> and <code class="docutils literal notranslate"><span class="pre">t2</span></code> are of same length and all elements of <code class="docutils literal notranslate"><span class="pre">t1</span></code> are strictly smaller than the corresponding elements of <code class="docutils literal notranslate"><span class="pre">t2</span></code>; otherwise <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.util.all_le">
<span class="sig-name descname"><span class="pre">all_le</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.util.all_le" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">t1</span></code> and <code class="docutils literal notranslate"><span class="pre">t2</span></code> are of same length and all elements of <code class="docutils literal notranslate"><span class="pre">t1</span></code> are strictly smaller than or equal to the corresponding elements of <code class="docutils literal notranslate"><span class="pre">t2</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="src.util.all_le.params.t1"></span><strong>t1</strong><a class="paramlink headerlink reference internal" href="#src.util.all_le.params.t1">¶</a> (<em>tuple</em>) – The first tuple being compared.</p></li>
<li><p><span class="target" id="src.util.all_le.params.t2"></span><strong>t2</strong><a class="paramlink headerlink reference internal" href="#src.util.all_le.params.t2">¶</a> (<em>tuple</em>) – The second tuple being compared.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">t1</span></code> and <code class="docutils literal notranslate"><span class="pre">t2</span></code> are of same length and all elements of <code class="docutils literal notranslate"><span class="pre">t1</span></code> are strictly smaller than or equal to the corresponding elements of <code class="docutils literal notranslate"><span class="pre">t2</span></code>; otherwise <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.util.filter_out">
<span class="sig-name descname"><span class="pre">filter_out</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span></span></span><a class="headerlink" href="#src.util.filter_out" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the tuple of elements in <code class="docutils literal notranslate"><span class="pre">t1</span></code> that are not in <code class="docutils literal notranslate"><span class="pre">t2</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="src.util.filter_out.params.t1"></span><strong>t1</strong><a class="paramlink headerlink reference internal" href="#src.util.filter_out.params.t1">¶</a> (<em>Tuple</em>) – The tuple being filtered.</p></li>
<li><p><span class="target" id="src.util.filter_out.params.t2"></span><strong>t2</strong><a class="paramlink headerlink reference internal" href="#src.util.filter_out.params.t2">¶</a> (<em>Tuple</em>) – The tuple being subtracted.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The tuple of elements in <code class="docutils literal notranslate"><span class="pre">t1</span></code> that are not in <code class="docutils literal notranslate"><span class="pre">t2</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="src.util.tuple_to_csv">
<span class="sig-name descname"><span class="pre">tuple_to_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#src.util.tuple_to_csv" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the string of comma-separated values based on the given tuple.
:param _sphinx_paramlinks_src.util.tuple_to_csv.t: The given tuple.
:type _sphinx_paramlinks_src.util.tuple_to_csv.t1: Tuple
:return: The string of comma-separated values based on the given tuple.
:rtype: str</p>
</dd></dl>

</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">src package</a><ul>
<li><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-src.abstract_engine">src.abstract_engine module</a></li>
<li><a class="reference internal" href="#module-src.abstract_task">src.abstract_task module</a></li>
<li><a class="reference internal" href="#module-src.client">src.client module</a></li>
<li><a class="reference internal" href="#module-src.constants">src.constants module</a></li>
<li><a class="reference internal" href="#module-src.instance">src.instance module</a></li>
<li><a class="reference internal" href="#module-src.run_backup">src.run_backup module</a></li>
<li><a class="reference internal" href="#module-src.server">src.server module</a></li>
<li><a class="reference internal" href="#module-src.util">src.util module</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="examples.agent_assignment.html"
                          title="previous chapter">examples.agent_assignment package</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="src.engines.html"
                          title="next chapter">src.engines package</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/src.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="src.engines.html" title="src.engines package"
             >next</a> |</li>
        <li class="right" >
          <a href="examples.agent_assignment.html" title="examples.agent_assignment package"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">ExpoCloud 1.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" >ExpoCloud</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">src package</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2022, Meir Goldenberg.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.1.1.
    </div>
  </body>
</html>